<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tone3310 | Retro Ringtones</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Press+Start+2P&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="../assets/styles.css">
<link rel="icon" href="/favicon.png" type="image/png">

    <style>
/* --- HEADER (Pill Style) --- */
.site-header {
  position: fixed;
  top: 20px;
  left: 0;
  right: 0;
  z-index: 100;
  pointer-events: none;
}



.nav-pill {
  pointer-events: auto;
  background: rgba(15, 15, 20, 0.7);
  backdrop-filter: blur(16px);
  border: 1px solid rgba(255,255,255,0.08);
  padding: 12px 24px;
  border-radius: 100px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1000px;
  margin: 0 auto;
}

.navlinks {
  display: flex;
  gap: 24px;
  font-size: 0.9rem;
  font-weight: 500;
}

.nav-item {
  color: #94a3b8;
}
.nav-item:hover {
  color: white;
}



        /* --- THEME VARIABLES (Redefined for Dark Default) --- */
        :root {
            /* Default is DARK (Midnight Blue 3310 Vibe) */
            --bg-body: #0f172a;
            --bg-pattern: #1e293b;
            
            --phone-case-bg: #1e3a8a; /* Deep Blue */
            --phone-case-shadow: #172554;
            --phone-border: #1e40af;
            
            --screen-bg: #90a998; /* Dimmer LCD for dark mode */
            --screen-active: #c7f0d8; /* Bright LCD */
            --screen-pixels: #2a3328;
            
            --btn-face: #334155;
            --btn-side: #1e293b;
            --btn-text: #e2e8f0;
            
            --accent-primary: #3b82f6;
            --text-primary: #e2e8f0;
            --text-muted: #94a3b8;
            
            --glass-panel: rgba(30, 41, 59, 0.7);
        }

        /* Light Mode (Toggled via JS class 'light-mode' - inverted logic from original) */
        body.light-mode {
            --bg-body: #e2e8f0;
            --bg-pattern: #cbd5e1;
            
            --phone-case-bg: #94a3b8; /* Classic Grey */
            --phone-case-shadow: #64748b;
            --phone-border: #cbd5e1;
            
            --screen-bg: #c7f0d8;
            --screen-active: #c7f0d8;
            --screen-pixels: #43523d;
            
            --btn-face: #f1f5f9;
            --btn-side: #cbd5e1;
            --btn-text: #334155;
            
            --accent-primary: #2563eb;
            --text-primary: #1e293b;
            --text-muted: #475569;
            
            --glass-panel: rgba(255, 255, 255, 0.6);
        }

        /* --- GLOBAL STYLES --- */
        body {
            background-color: var(--bg-body);
            background-image: radial-gradient(var(--bg-pattern) 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--text-primary);
            font-family: 'Share Tech Mono', monospace;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        h1, h2, h3 {
            font-family: 'VT323', monospace;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* --- NEW: HERO LCD STRIP STYLES --- */
        .hero-lcd {
            background: rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: inset 0 0 15px rgba(0,0,0,0.6);
            position: relative;
            overflow: hidden;
            display: inline-block;
            backdrop-filter: blur(2px);
        }
        
        .hero-lcd::before {
            /* Dot Matrix Texture */
            content: '';
            position: absolute;
            inset: 0;
            background-image: radial-gradient(var(--accent-primary) 1px, transparent 1px);
            background-size: 3px 3px;
            opacity: 0.15;
            pointer-events: none;
        }

        .hero-lcd::after {
            /* Scanline Overlay */
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.2) 50%);
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 2;
        }

        .hero-lcd-text {
            font-family: 'VT323', monospace;
            color: var(--accent-primary);
            text-shadow: 0 0 8px var(--accent-primary);
            opacity: 0.9;
        }

        .cursor-blink {
            animation: blink 1.5s steps(2, start) infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        /* --- PHONE CASE --- */
        .phone-case {
            background: var(--phone-case-bg);
            border: 8px solid var(--phone-border);
            box-shadow: 
                0 20px 50px -12px rgba(0, 0, 0, 0.5),
                inset 0 -10px 20px rgba(0,0,0,0.3),
                inset 0 10px 10px rgba(255,255,255,0.1);
            border-radius: 40px 40px 60px 60px;
            position: relative;
        }
        
        /* Speaker Grille Decoration */
        .phone-case::before {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 6px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            box-shadow: inset 0 1px 2px rgba(0,0,0,0.5);
        }

        /* --- LCD SCREEN --- */
        .nokia-screen {
            background-color: var(--screen-bg);
            border: 4px solid #111;
            border-radius: 12px;
            box-shadow: 
                inset 3px 3px 10px rgba(0,0,0,0.4),
                0 0 15px rgba(199, 240, 216, 0.1); /* Slight bloom */
            color: var(--screen-pixels);
            font-family: 'VT323', monospace;
            position: relative;
            overflow: hidden;
            transition: background-color 0.3s;
        }
        
        /* Pixel Grid Effect Overlay */
        .nokia-screen::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0; left: 0; bottom: 0; right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 20;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        /* --- TACTILE BUTTONS --- */
        .nokia-btn {
            background-color: var(--btn-face);
            color: var(--btn-text);
            border: none;
            border-radius: 12px 12px 16px 16px;
            box-shadow: 
                0 6px 0 var(--btn-side), 
                0 10px 10px rgba(0,0,0,0.3);
            font-family: 'Share Tech Mono', sans-serif;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.8rem;
            transition: transform 0.1s, box-shadow 0.1s, opacity 0.2s;
            position: relative;
            overflow: hidden;
        }

        /* Shine on buttons */
        .nokia-btn::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; height: 50%;
            background: linear-gradient(to bottom, rgba(255,255,255,0.1), transparent);
            border-radius: 12px 12px 0 0;
        }

        .nokia-btn:active {
            transform: translateY(6px);
            box-shadow: 
                0 0 0 var(--btn-side), 
                inset 0 2px 5px rgba(0,0,0,0.2);
        }

        .nokia-btn-primary {
            background-color: var(--accent-primary) !important;
            color: white !important;
            box-shadow: 0 6px 0 #1e3a8a, 0 10px 10px rgba(0,0,0,0.4) !important;
        }
        
        .nokia-btn-primary:active {
            box-shadow: 0 0 0 #1e3a8a, inset 0 2px 5px rgba(0,0,0,0.2) !important;
        }

        .nokia-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            filter: grayscale(100%);
            transform: none !important;
            box-shadow: none !important;
        }

        /* --- FORM ELEMENTS --- */
        input[type="range"] {
            -webkit-appearance: none;
            background: transparent;
            height: 20px;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px; width: 16px;
            background: var(--text-primary);
            border-radius: 0; /* Square thumb like tech */
            margin-top: -6px;
            box-shadow: 0 2px 0 rgba(0,0,0,0.5);
            cursor: pointer;
        }
        input[type="range"]::-webkit-slider-runnable-track {
            width: 100%; height: 4px;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
        }

        select, input[type="number"] {
            background-color: rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--text-primary);
            font-family: 'Share Tech Mono', monospace;
            border-radius: 4px;
        }
        
        /* --- DROPDOWN READABILITY FIX --- */
        select option, select optgroup {
            background-color: #0f172a;
            color: #e2e8f0;
        }
        select optgroup {
            font-style: normal;
            font-weight: bold;
            color: var(--accent-primary);
        }

        body.light-mode select, body.light-mode input[type="number"] {
            background-color: rgba(255,255,255,0.5);
            border-color: rgba(0,0,0,0.1);
            color: #1e293b;
        }

        body.light-mode select option, body.light-mode select optgroup {
            background-color: #f1f5f9;
            color: #1e293b;
        }

        /* --- EDITOR OVERLAYS (Required for Logic) --- */
        .editor-container { position: relative; font-size: 1.6rem; line-height: 1.4; height: 160px; }
        .backdrop, textarea {
            font-family: 'VT323', monospace;
            font-size: 1.6rem; line-height: 1.4;
            padding: 10px; width: 100%; height: 100%;
            border: none; background: transparent;
            white-space: pre-wrap; word-wrap: break-word;
            margin: 0; box-sizing: border-box;
            letter-spacing: 1px;
        }
        .backdrop {
            position: absolute; z-index: 1; top: 0; left: 0;
            color: transparent; pointer-events: none; overflow-y: scroll;
            scrollbar-width: none;
        }
        textarea {
            position: relative; z-index: 2;
            color: var(--screen-pixels);
            resize: none; outline: none; overflow-y: scroll;
        }
        textarea::-webkit-scrollbar { width: 10px; }
        textarea::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
        textarea::-webkit-scrollbar-thumb { background: var(--screen-pixels); border: 2px solid var(--screen-bg); }

        .highlight {
            border-bottom: 3px solid #ef4444;
            border-radius: 0;
        }

        /* Visualizer */
        #visualizer {
            position: absolute; top: 0; left: 0;
            width: 100%; height: 100%; z-index: 10;
            background-color: var(--screen-bg);
            display: none;
        }
        #visualizer.active { display: block; }

        /* Guide Card Styling */
        .guide-card {
            background: var(--glass-panel);
            border-left: 4px solid var(--accent-primary);
            backdrop-filter: blur(5px);
        }
        .syntax-table th { color: var(--accent-primary); border-bottom: 2px solid rgba(255,255,255,0.1); }
        .syntax-table td { border-bottom: 1px dashed rgba(255,255,255,0.1); }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 gap-6 pt-32">

<header class="site-header">
  <div class="nav-pill">
    <a class="brand" href="../projects/">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
           stroke="currentColor" stroke-width="2.5"
           stroke-linecap="round" stroke-linejoin="round">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      Back to Projects
    </a>

    <nav class="navlinks"> 
      <a class="nav-item" href="../">Home</a>
      <a class="nav-item" href="https://github.com/stefromlc/" target="_blank">GitHub</a>
    </nav>
  </div>
</header>

    <!-- 1️⃣ HERO SECTION -->
    <section class="w-full max-w-5xl text-center pt-6 space-y-4">
        <!-- Primary Headline -->
        <h1 class="text-5xl md:text-7xl font-bold text-[var(--accent-primary)] drop-shadow-[0_4px_0_rgba(0,0,0,0.5)] leading-tight">
            Composer & Archive of 250+ Classic Ringtones
        </h1>
        
        <!-- Secondary Line -->


        <!-- Tertiary Micro-flow -->
        

        <!-- Hardware LCD Strip (Visual treatment) -->
        <div class="py-2 opacity-90">
            <div class="hero-lcd rounded-md px-4 py-2 max-w-lg mx-auto w-full select-none">
                <div class="flex items-center justify-center gap-3 hero-lcd-text text-lg tracking-widest">
                    <i class="fas fa-terminal text-xs opacity-50"></i>
                    <span>Tempo=120 · 4e2 8d2 4f#1 <span class="cursor-blink">_</span></span>
                </div>
            </div>
        </div>

        <!-- PROOF / LEGITIMACY STRIP -->
<!-- PROOF / LEGITIMACY STRIP (Simplified & Visual) -->
<div class="flex flex-wrap justify-center gap-6 mt-6 text-xs md:text-sm font-bold uppercase tracking-widest text-[var(--text-muted)]">

  <div class="flex items-center gap-2">
            <i class="fas fa-music text-[var(--accent-primary)] text-lg"></i>
            <span>250+ Classic Ringtones</span>
        </div>

        <div class="flex items-center gap-2">
            <i class="fas fa-keyboard text-[var(--accent-primary)] text-lg"></i>
            <span>Edit as Text</span>
        </div>

        <div class="flex items-center gap-2">
            <i class="fas fa-file-audio text-[var(--accent-primary)] text-lg"></i>
            <span>Download WAV</span>
        </div>

        <div class="flex items-center gap-2">
            <i class="fas fa-mobile-alt text-[var(--accent-primary)] text-lg"></i>
            <span>Use as Ringtone</span>
        </div>


</div>

    </section>

    <!-- MAIN LAYOUT GRID -->
    <div class="w-full max-w-6xl grid lg:grid-cols-12 gap-8 items-start mt-8 px-4">
        
        <!-- LEFT: MANUAL (Desktop) -->
        <div class="hidden lg:block lg:col-span-3 space-y-4">
            <div class="guide-card p-4 rounded-r-xl">
                <h3 class="text-xl mb-3 border-b border-gray-600 pb-2">
                    <i class="fas fa-book-open text-[var(--accent-primary)]"></i> Ringtone Notation
                </h3>
                <p class="text-xs mb-3 opacity-90">Notes are written as:<br><strong>Duration + Note + Octave</strong></p>
                
                <div class="text-sm font-['VT323'] bg-black/20 p-2 rounded mb-2 border border-white/10 text-center">
                    4c1 4d1 8e1
                </div>
                
                <h4 class="text-xs uppercase font-bold mt-4 mb-2 text-[var(--accent-primary)]">Legend</h4>
                <table class="w-full text-xs text-left syntax-table">
                    <tbody>
                        <tr><td class="py-2 font-bold text-[var(--accent-primary)]">Duration</td><td class="opacity-80">1, 2, 4, 8, 16, 32</td></tr>
                        <tr><td class="py-2 font-bold text-[var(--accent-primary)]">Note</td><td class="opacity-80">c, d, e, f, g, a, b</td></tr>
                        <tr><td class="py-2 font-bold text-[var(--accent-primary)]">Octave</td><td class="opacity-80">1 (Low) - 3 (Hi)</td></tr>
                        <tr><td class="py-2 font-bold text-[var(--accent-primary)]">Sharp</td><td class="opacity-80"># (e.g. c#1)</td></tr>
                        <tr><td class="py-2 font-bold text-[var(--accent-primary)]">Rest</td><td class="opacity-80">-</td></tr>
                    </tbody>
                </table>
                <div class="mt-4 p-2 bg-yellow-500/10 border border-yellow-500/30 rounded text-[0.65rem] opacity-90">
                    <i class="fas fa-exclamation-circle text-yellow-500"></i> Tempo must always be set on the first line: <code>Tempo=120</code>
                </div>
            </div>
        </div>

        <!-- CENTER: PHONE (THE HERO) -->
        <div class="col-span-12 lg:col-span-6 flex justify-center">
            <!-- ... existing phone casing code ... -->
            <div class="phone-case p-6 w-full max-w-md relative z-10">
                
                <!-- Branding Area -->
                <div class="flex justify-between items-center mb-6 px-4">
                    <div class="flex gap-1">
                        <div class="w-1 h-1 bg-white/20 rounded-full"></div>
                        <div class="w-1 h-1 bg-white/20 rounded-full"></div>
                        <div class="w-1 h-1 bg-white/20 rounded-full"></div>
                    </div>
                    <!-- REBRANDED LOGO ON DEVICE -->
                    <div class="text-center font-bold text-xl tracking-[0.1em] font-sans text-white/40 select-none drop-shadow-md">TONE3310</div>
                    <!-- Theme Toggle -->
                    <button id="themeBtn" class="w-8 h-8 rounded-full bg-black/20 hover:bg-white/20 flex items-center justify-center text-white/70 transition-colors shadow-inner" title="Toggle Day/Night Mode">
                        <i class="fas fa-sun"></i>
                    </button>
                </div>

                <!-- LCD Screen -->
                <div class="nokia-screen p-3 mb-8 flex flex-col h-[280px]">
                    
                    <!-- LCD Status Bar -->
                    <div class="flex justify-between border-b-2 border-[#43523d]/30 pb-1 mb-2 text-xl select-none">
                        <div class="flex items-center gap-2">
                            <i class="fas fa-signal text-xs opacity-50"></i>
                            <span id="statusText" class="font-bold">COMPOSER</span>
                            <button id="viewToggleBtn" class="text-xs border border-current px-2 rounded hover:bg-black/10 transition-colors opacity-60 hover:opacity-100" title="Piano roll view">
                                [VIEW]
                            </button>
                        </div>
                        <div class="flex items-center gap-2">
                            <span id="tempoDisplay" class="text-sm">120 BPM</span>
                            <i class="fas fa-battery-full text-xs opacity-50"></i>
                        </div>
                    </div>
                    
                    <!-- Preset Feedback Line -->
                    <div id="presetFeedback" class="text-xs text-center text-[var(--screen-pixels)] opacity-70 font-sans mt-0.5 mb-1 h-4 select-none overflow-hidden text-ellipsis whitespace-nowrap"></div>

                    <!-- Editor Area -->
                    <div class="editor-container flex-grow relative">
                        <div id="backdrop" class="backdrop"></div>
                        <!-- Updated Placeholder -->
                        <textarea id="editor" spellcheck="false" placeholder="Tempo=120&#10;4c1 4d1 8e1 4g1">Tempo=120
4d1 4e1 4c1 4c1 4g1</textarea>
                        <canvas id="visualizer"></canvas>
                    </div>

                    <!-- LCD Footer -->
                    <div class="flex justify-between border-t-2 border-[#43523d]/30 pt-1 mt-1 text-sm opacity-80 select-none">
                        <span id="noteCount">Notes: 5</span>
                        <span id="totalDuration">00:00</span>
                    </div>
                    
                    <!-- Error Toast -->
                    <div id="errorToast" class="absolute bottom-10 left-4 right-4 bg-red-900/90 text-white text-center font-['VT323'] py-2 hidden rounded border border-red-500 shadow-xl z-40 text-lg leading-tight">
                        <!-- Content populated by JS -->
                    </div>
                </div>

                <!-- Controls Area -->
                <div class="space-y-5 select-none px-2">
                    
                    <!-- Transport Pad -->
                    <div class="grid grid-cols-3 gap-4">
                        <button id="playBtn" class="nokia-btn nokia-btn-primary py-4 col-span-1 flex flex-col items-center justify-center gap-1 transition-all duration-200">
                            <i class="fas fa-play text-xl"></i>
                            <span class="text-[0.6rem] opacity-80">Listen</span>
                        </button>
                        
                        <div class="col-span-2 grid grid-cols-2 gap-3">
                            <button id="stopBtn" class="nokia-btn py-3 text-red-400">
                                <i class="fas fa-stop"></i> Stop
                            </button>
                            <button id="loopBtn" class="nokia-btn py-3 flex flex-col items-center justify-center relative" title="Loop playback">
                                <span class="text-[0.65rem]">REPEAT</span>
                                <div id="loopIndicator" class="w-2 h-2 rounded-full bg-gray-600 mt-1 transition-colors border border-black/20"></div>
                            </button>
                            
                            <!-- Main Menu / Tone -->
                            <div class="col-span-2 bg-black/20 p-2 rounded-lg border border-white/5 flex flex-col gap-1">
                                <label class="text-[0.6rem] uppercase font-bold opacity-50 px-1">Instrument</label>
                                <select id="instrumentSelect" class="w-full text-xs h-6 px-1 outline-none cursor-pointer">
                                    <optgroup label="Classic">
                                        <option value="classic">Classic (Square)</option>
                                        <option value="nes">8-Bit</option>
                                    </optgroup>
                                    <optgroup label="Synth">
                                        <option value="soft">Soft (Sine)</option>
                                        <option value="clear">Clear (Triangle)</option>
                                        <option value="buzzy">Buzzy (Sawtooth)</option>
                                        <option value="organ">Organ</option>
                                        <option value="synth">Synth</option>
                                        <option value="bass">Techno Bass</option>
                                    </optgroup>
                                    <optgroup label="Experimental">
                                        <option value="pluck">Pluck (Guitar)</option>
                                        <option value="marimba">Marimba</option>
                                        <option value="flute">Flute</option>
                                        <option value="violin">Violin</option>
                                        <option value="banjo">Banjo</option>
                                    </optgroup>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Separator -->
                    <div class="h-[2px] bg-black/20 border-b border-white/10 mx-4"></div>

                    <!-- Sliders & Presets -->
                    <div class="grid grid-cols-2 gap-4">
                        <div class="flex flex-col justify-center">
                            <label class="text-[0.6rem] uppercase font-bold opacity-50 mb-1">Volume</label>
                            <input type="range" id="volumeSlider" min="0" max="100" value="50" class="w-full">
                        </div>
                        <div>
                             <div class="flex justify-between items-baseline mb-1">
                                <label class="text-[0.6rem] uppercase font-bold opacity-50">The Archive (250+ Classics)</label>
                             </div>
                             <div class="text-[0.55rem] opacity-40 mb-1 font-sans">Load a ringtone to see how it was written.</div>
                            <select id="presetSelect" class="w-full text-xs h-8 px-1 outline-none cursor-pointer border-l-2 border-[var(--accent-primary)]">
                                <option value="">-- Browse Classics --</option>
                            </select>
                        </div>
                    </div>

                    <!-- Bottom Actions (IO) -->
                    <div class="grid grid-cols-3 gap-3 pt-2">
                        <div class="col-span-1">
                            <!-- UPDATED IMPORT BUTTON -->
                            <button id="importBtn" class="nokia-btn w-full h-full text-[0.65rem] flex flex-col items-center justify-center gap-1 opacity-80 hover:opacity-100 relative overflow-hidden">
                                <i class="fas fa-file-audio text-lg mb-1"></i> UPLOAD AUDIO
                            </button>
                            <!-- UPDATED INPUT -->
                            <input type="file" id="fileInput" accept="audio/*,.mp3,.wav,.ogg,.m4a" class="hidden">
                        </div>
                        
                        <div class="col-span-2">
                            <button id="openDownloadModalBtn" class="nokia-btn w-full h-full py-2 text-[0.65rem] flex flex-col items-center justify-center gap-1 text-[var(--accent-primary)] hover:brightness-110">
                                <i class="fas fa-cloud-download-alt text-lg"></i> 
                                <span>DOWNLOAD RINGTONE</span>
                            </button>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- RIGHT: INSTRUCTIONS (Desktop & Mobile) -->
        <div class="col-span-12 lg:col-span-3 space-y-4">
            
            <!-- Onboarding / Demo -->
            <div class="guide-card p-5 rounded-xl border-l-4 border-[var(--accent-primary)] shadow-lg relative overflow-hidden group">
                <div class="absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity">
                    <i class="fas fa-archive text-6xl"></i>
                </div>
                <h3 class="text-xl mb-2 font-bold">The Ringtone Archive</h3>
                <p class="text-xs opacity-80 mb-4 leading-relaxed">
                    Browse 250+ iconic monophonic ringtones from the late ’90s and early 2000s. Load one up, adjust the tone or notes if you feel like it, and export it for modern phones.
                </p>
                <button id="demoBtn" class="nokia-btn w-full py-3 flex items-center justify-center gap-2 bg-[var(--accent-primary)] text-white hover:brightness-110 text-xs">
                    <i class="fas fa-play"></i> PLAY "SANDSTORM"
                </button>
            </div>

            <!-- How It Works -->
            <div class="guide-card p-5 rounded-xl">
                <h3 class="text-xl mb-4 border-b border-gray-600 pb-2">
                    <i class="fas fa-info-circle text-[var(--accent-primary)]"></i> HOW IT WORKS
                </h3>
                <ul class="space-y-3 text-sm font-['Share_Tech_Mono']">
                    <li class="flex gap-3">
                        <span class="bg-[var(--accent-primary)] text-white w-6 h-6 rounded flex items-center justify-center flex-shrink-0 font-bold text-xs">1</span>
                        <div class="opacity-80">Choose a ringtone OR upload an MP3</div>
                    </li>
                    <li class="flex gap-3">
                        <span class="bg-[var(--accent-primary)] text-white w-6 h-6 rounded flex items-center justify-center flex-shrink-0 font-bold text-xs">2</span>
                        <div class="opacity-80">Edit the notes as text</div>
                    </li>
                    <li class="flex gap-3">
                        <span class="bg-[var(--accent-primary)] text-white w-6 h-6 rounded flex items-center justify-center flex-shrink-0 font-bold text-xs">3</span>
                        <div class="opacity-80">Play it back instantly</div>
                    </li>
                    <li class="flex gap-3">
                        <span class="bg-[var(--accent-primary)] text-white w-6 h-6 rounded flex items-center justify-center flex-shrink-0 font-bold text-xs">4</span>
                        <div class="opacity-80">Download a WAV ringtone</div>
                    </li>
                </ul>
            </div>

        </div>

    </div>

    <!-- DOWNLOAD MODAL (Hidden by default) -->
    <div id="downloadModal" class="fixed inset-0 bg-black/80 flex items-center justify-center z-50 hidden backdrop-blur-sm transition-all duration-300 opacity-0 pointer-events-none">
        <div class="bg-gray-900/95 p-6 rounded-2xl border-4 border-gray-700 shadow-2xl max-w-sm w-full mx-4 relative transform transition-all scale-95 duration-300">
            <button id="closeModalBtn" class="absolute top-3 right-4 text-white/40 hover:text-white transition-colors text-xl"><i class="fas fa-times"></i></button>
            
            <div class="text-center mb-6">
                <div class="inline-block bg-[var(--accent-primary)] text-white text-[0.6rem] font-bold px-2 py-0.5 rounded mb-2 uppercase tracking-wider">System Export</div>
                <h3 class="text-2xl font-bold text-white font-['VT323'] tracking-widest drop-shadow-md">
                    SAVE RINGTONE
                </h3>
            </div>
            
            <div class="space-y-6">
                <!-- Duration Section -->
                <div class="bg-black/30 p-3 rounded-lg border border-white/5">
                    <label class="block text-[0.65rem] uppercase font-bold opacity-60 mb-2 font-['Share_Tech_Mono'] text-center text-gray-300">
                        TARGET LENGTH (SECONDS)
                    </label>
                    <div class="flex justify-center items-center gap-4">
                        <button onclick="document.getElementById('wavDuration').stepDown()" class="w-8 h-8 rounded bg-gray-800 hover:bg-gray-700 text-white flex items-center justify-center transition-colors"><i class="fas fa-minus text-xs"></i></button>
                        <div class="bg-black/60 px-4 py-1 rounded border border-white/10 shadow-inner">
                            <input type="number" id="wavDuration" value="30" min="1" max="120" class="w-16 text-center bg-transparent text-[var(--accent-primary)] font-['VT323'] text-3xl outline-none p-0 m-0">
                        </div>
                        <button onclick="document.getElementById('wavDuration').stepUp()" class="w-8 h-8 rounded bg-gray-800 hover:bg-gray-700 text-white flex items-center justify-center transition-colors"><i class="fas fa-plus text-xs"></i></button>
                    </div>
                </div>

                <!-- Actions Grid -->
                <div class="grid grid-cols-2 gap-3">
                    <button id="downloadBtn" class="nokia-btn bg-blue-600 hover:bg-blue-500 py-3 flex flex-col items-center justify-center gap-1 group">
                        <i class="fas fa-file-audio text-xl mb-1 text-blue-200 group-hover:text-white transition-colors"></i>
                        <span class="text-[0.65rem] opacity-80">CUSTOM DURATION</span>
                        <span class="text-[0.55rem] opacity-50 uppercase">USES TARGET LENGTH</span>
                    </button>
                    
                    <button id="downloadLoopBtn" class="nokia-btn bg-purple-600 hover:bg-purple-500 py-3 flex flex-col items-center justify-center gap-1 group">
                        <i class="fas fa-sync text-xl mb-1 text-purple-200 group-hover:text-white transition-colors"></i>
                        <span class="text-[0.65rem] opacity-80">SINGLE LOOP</span>
                        <span class="text-[0.55rem] opacity-50 uppercase">ONE FULL CYCLE</span>
                    </button>
                </div>

                

                            </div>
        </div>
    </div>



    <!-- INSTALLATION GUIDE (New Section) -->
    <section class="w-full max-w-4xl px-4 mt-8 mb-4">
        <div class="guide-card p-6 rounded-xl">
            <h3 class="text-xl mb-4 border-b border-gray-600 pb-2 flex items-center gap-2 font-['VT323']">
                <i class="fas fa-sim-card text-[var(--accent-primary)]"></i> Use Your Ringtone on a Real Phone
            </h3>
            
            <div class="grid md:grid-cols-2 gap-8 font-['Share_Tech_Mono']">
                <!-- Android -->
                <div>
                    <h4 class="text-green-400 font-bold mb-2 flex items-center gap-2 text-lg">
                        <i class="fab fa-android"></i> Android Devices
                    </h4>
                    <p class="text-sm opacity-80 mb-3">Android supports WAV ringtones natively.</p>
                    <ul class="list-disc list-inside text-sm space-y-2 opacity-70">
                        <li>Download the <strong class="text-white">WAV</strong> file to your phone.</li>
                        <li>Go to <strong>Settings → Sound → Phone Ringtone</strong>.</li>
                        <li>Choose <strong>My Sounds</strong> or <strong>Custom Ringtone</strong>.</li>
                        <li>Select your newly created tone.</li>
                    </ul>
                </div>

                <!-- iOS -->
                <div>
                    <h4 class="text-gray-200 font-bold mb-2 flex items-center gap-2 text-lg">
                        <i class="fab fa-apple"></i> Apple iOS (iPhone)
                    </h4>
                    <!-- iOS Disclaimer -->
                    <p class="text-xs text-yellow-400 mb-2 font-bold bg-yellow-400/10 p-2 rounded">
                        <i class="fas fa-info-circle"></i> iOS requires GarageBand due to Apple ringtone restrictions.
                    </p>

                    <p class="text-sm opacity-80 mb-3">Requires <strong>GarageBand</strong> (free on the App Store).</p>
                    <ul class="list-disc list-inside text-sm space-y-2 opacity-70">
                        <li>Save the <strong class="text-white">WAV</strong> file to the "Files" app.</li>
                        <li>Open GarageBand and create a new <strong>Audio Recorder</strong> project.</li>
                        <li>Switch to Track View and drag in your WAV.</li>
                        <li>Tap <strong>My Songs → Share → Ringtone</strong>.</li>
                    </ul>
<div class="mt-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-xs">
    <a 
        href="https://youtu.be/N6Gcoufd2Sk"
        target="_blank"
        rel="noopener"
        class="flex items-center gap-2 text-red-400 hover:text-red-300 transition-colors font-bold"
    >
        <i class="fab fa-youtube text-lg"></i>
        <span>Need help? Watch the 1-minute iPhone setup</span>
    </a>
</div>

                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="w-full text-center py-8 mt-auto text-xs font-['Share_Tech_Mono'] text-[var(--text-muted)]">
        <h4 class="text-lg font-bold text-[var(--text-primary)] mb-2 font-['VT323'] tracking-widest uppercase">A Tribute to an Era</h4>
        <p class="mb-2 max-w-lg mx-auto opacity-70">
            Tone3310 is a fan-made tribute to classic monophonic ringtones — and the moment in time when mobile phones had personality.
        </p>
        <p class="mb-6 opacity-60 italic">
            An era when phones sang in code.
        </p>
        
        <div class="text-[var(--accent-primary)] opacity-50 text-[0.6rem]">
            ///// RTTTL PARSER READY ///// AUDIO CONTEXT ONLINE /////
        </div>
    </footer>

<!-- ORIGINAL JAVASCRIPT LOGIC -->
<script>
/**
 * AUDIO ENGINE & CONSTANTS
 */
let playbackStartTime = 0; 
let lastHighlightedIndex = -1;
let animationFrameId = null;
// NEW: Constant to offset visual timer to account for AudioContext output latency
const LATENCY_COMPENSATION = 0.15; 
const TEMPO_REGEX = /Tempo\s*=\s*(\d*)/i;

const REQUIRED_TEMPO_LINE = 'Tempo=';

const FREQUENCIES = {
    'c': 261.63, 'c#': 277.18,
    'd': 293.66, 'd#': 311.13,
    'e': 329.63,
    'f': 349.23, 'f#': 369.99,
    'g': 392.00, 'g#': 415.30,
    'a': 440.00, 'a#': 466.16,
    'b': 493.88
};

// Instrument Configs
const INSTRUMENTS = {
    classic: { type: 'square', env: { a: 0.01, d: 0.1, s: 0.5, r: 0.1 } },
    soft: { type: 'sine', env: { a: 0.05, d: 0.2, s: 0.8, r: 0.2 } },
    clear: { type: 'triangle', env: { a: 0.01, d: 0.1, s: 0.6, r: 0.1 } },
    buzzy: { type: 'sawtooth', env: { a: 0.01, d: 0.1, s: 0.5, r: 0.1 } },
    pluck: { type: 'triangle', env: { a: 0.005, d: 0.3, s: 0, r: 0.1 } }, // Guitar-ish
    organ: { type: 'sine', env: { a: 0.1, d: 0.1, s: 0.9, r: 0.2 } },
    synth: { type: 'sawtooth', env: { a: 0.005, d: 0.3, s: 0.3, r: 0.3 } },
    nes: { type: 'square', env: { a: 0, d: 0.05, s: 0.4, r: 0 } },
    marimba: { type: 'sine', env: { a: 0.01, d: 0.1, s: 0, r: 0.1 } },
    flute: { type: 'triangle', env: { a: 0.1, d: 0.1, s: 0.8, r: 0.2 } },
    violin: { type: 'sawtooth', env: { a: 0.15, d: 0.1, s: 0.8, r: 0.25 } },
    banjo: { type: 'sawtooth', env: { a: 0.01, d: 0.2, s: 0, r: 0.1 } },
    bass: { type: 'square', env: { a: 0.01, d: 0.2, s: 0.6, r: 0.1 } }
};


const PRESETS = [
  {
    "title": "Nokia Tune",
    "tempo": 125,
    "notes": "8e2 8d2 4f#1 4g#1 8c#2 8b1 4d1 4e1 8b1 8a1 4c#1 4e1 2a1"
  },
  {
    "title": "Sandstorm",
    "tempo": 136,
    "notes": "8b1 8b1 8b1 8b1 8b1 8e1 8b1 8b1 8b1 8b1 8b1 8e1 8e2 8e2 8d2 8b1 8b1 8b1 8b1 8b1 8e1 8b1 8b1 8b1 8b1 8b1 8e1 8b1 8b1 8b1 8b1 8b1 8e1 8e2 8e2 8d2"
  },
  {
    "title": "Imperial March",
    "tempo": 104,
    "notes": "4g1 4g1 4g1 8d#1 16a#1 4g1 8d#1 16a#1 4g1 4d2 4d2 4d2 8d#2 16a#1 4f#1 8d#1 16a#1 4g1"
  },
  {
    "title": "Axel F",
    "tempo": 125,
    "notes": "16g2 16g2 16a#2 16g2 16- 16g2 16c3 16g2 16f2 4g2 4d3 16g2 16- 16g2 16d#3 16d3 16a#2 16g2 16d3 16g3 16g2 16f2 16- 16f2 16d2 16a#2 2g2 4- 16f3 16d3 16c3 16a#2 4g2 16a#2 16g2 16- 16g2 16c3 16g2 16f2 4g2 4d3 16g2 16- 16g2 16d#3 16d3 16a#2 16g2 16d3 16g3 16g2 16f2 16- 16f2 16d2 16a#2 2g2"
  },
  {
    "title": "Super Mario",
    "tempo": 180,
    "notes": "8e2 8e2 8- 8e2 8- 8c2 4e2 4g2 4- 4g1"
  },
  {
    "title": "Simpsons",
    "tempo": 160,
    "notes": "2c2 4e2 4f#2 8a2 4g2 4e2 4c2 8- 4a1 8f#1 8f#1 8f#1 2g1"
  },
  {
    "title": "Mission Imp.",
    "tempo": 125,
    "notes": "8g1 8g1 8- 8g1 8g1 8- 8a#1 8c2 8g1 8g1 8- 8g1 8g1 8- 8f1 8f#1"
  },
  {
    "title": "Pacman",
    "tempo": 112,
    "notes": "32b1 32b2 32f#2 32d#2 32b2 32f#2 16d#2 32c2 32c3 32g2 32e2 32c3 32g2 16e2 32b1 32b2 32f#2 32d#2 32b2 32f#2 16d#2"
  },
  {
    "title": "Abba:\nMamma Mia",
    "tempo": 40,
    "notes": "32f2\n32#d2 32f2 8#d2 32#d2 32#d2 32f2 32g2 32f2 16.#d2 32- 16f2 8#d2 16#g2 32#g2\n32#g2 32#g2 16g2 16.#d2 32- 8#a2 32#a2 32#a2 16#a2 16f2 16g2 8#g2 16g2\n16g2 32g2 16g2 16d2 16#d2 8f2 16f2 8#d2 16#g2 32#g2 32#g2 32#g2 32g2 32#d2\n32f2 16#d2"
  },
  {
    "title": "Abba: Money\nMoney Money v1",
    "tempo": 112,
    "notes": "8e3 8e3\n8e3 8e3 8e3 8e3 16e2 16a2 16c3 16e3 8#d3 8#d3 8#d3 8#d3 8#d3 8#d3 16f2\n16a2 16c3 16#d3 4d3 8c3 8a2 8c3 4c3 2a2 32a2 32c3 32e3 8a3"
  },
  {
    "title": "Abba: Money\nMoney Money v2",
    "tempo": 200,
    "notes": "4a1 8b1\n4c2 8a1 4b1 4c2 4- 4c2 8a1 4b1 4c2 4- 4b1 8a1 4c2 4.c2 16- 1a1"
  },
  {
    "title": "Adams Family\nv1",
    "tempo": 70,
    "notes": "8#f1\n16#f1 16#f1 16#f1 8b1 32#d2 8b1 32#g1 8e1 8#c2 32a1 8#a1 32#c2 8#a1 32#f1\n8#d1 8b1 32#f1 8b1 32#d2 8b1 32#g1 8e1 8#c2 32b1 8#a1 32#f1 8#g1 32#a1\n4b1 32#f1 8b1 32#d2 8b1 32#g1 8e1 8#c2 32a1 8#a1 32#c2 8#a1 32#f1 8#d1\n8b1 32#f1 8b1 32#d2 8b1 32#g1 8e1"
  },
  {
    "title": "Adams Family\nv2",
    "tempo": 160,
    "notes": "8c2 4f2\n8a2 4f2 8c2 4b1 2g2 8f2 4e2 8g2 4e2 8e1 4a1 2f2 8c2 4f2 8a2 4f2 8c2 4b1\n2g2 8f2 4e2 8c2 4d2 8e2 1f2 8c2 8d2 8e2 8f2 1- 8d2 8e2 8#f2 8g2 1- 8d2\n8e2 8#f2 8g2 4- 8d2 8e2 8#f2 8g2 4- 4c2 8e2 1f2"
  },
  {
    "title": "Aerosmith:\nI Don't Wanna Miss A Thing",
    "tempo": 125,
    "notes": "2- 16a1\n16- 16a1 16- 8a1 16- 4a2 16g2 16- 2g2 16- 4- 8- 16g2 16- 16g2 16- 16g2\n8g2 16- 4c2 16#a1 16- 4a2 8g2 4f2 4g2 8d2 8f2 16- 16f2 16- 16c2 8c2 16-\n4a2 8g2 16f2 16- 8f2 16- 16c2 16- 4g2 4f2"
  },
  {
    "title": "Aha: Take\non me",
    "tempo": 100,
    "notes": "8- 16#a1\n16#a1 16#a1 8#f1 8#d1 8#g1 8#g1 16#g1 16c2 16c2 16#c2 16#d2 16#c2 16#c2\n16#c2 8#g1 8#f1 8#a1 8#a1 16#a1 16#g1 16#g1 16#a1 16#g1 16#a1 16#a1 16#a1\n8#f1 8#d1 8#g1 8#g1 16#g1 16c2 16c2 16#c2 16#d2 16#c2 16#c2 16#c2 8#g1\n8#f1 8#a1 8#a1"
  },
  {
    "title": "Airwolf",
    "tempo": 100,
    "notes": "4e1 16a1\n16b1 16d2 4e2 16g2 16#f2 16d2 4e2 16g2 16#f2 16d2 4e2 8d2 16#f2 4b1 4a1\n8g1 16a1 8#f1 16d1 4g1 16c2 16d2 16f2 4g2 16c2 16b2 16f2 4g2 16c2 16b2\n16f2 4g2 8f2 16a2 4d2 4c2 8b1 16d2 8a1 16f1 4g1 16c2 16d2 16f2 4g2 16c2\n16b2 16f2"
  },
  {
    "title": "Alice DJ:\nBack In My Life",
    "tempo": 140,
    "notes": "1c2 4-\n8c2 8c2 8e2 8c2 8b1 1c2 4- 8- 8c2 8c2 8e2 8c2 8b1 1c2 8g1 4b1 8b1 4b1 4c2\n1c2 2- 4- 8c2 8d2 8c2 16e2 16d2 1c2"
  },
  {
    "title": "Alice DJ: Better off Alone",
    "tempo": 140,
    "notes": "8c2 8- 8c2 8a1 8- 8c2 8- 8c2 8- 8b1 8- 8g1 8g2 16- 8g2 16- 8e2 8c2 8- 8c2 8a1 8-  4c2 8c2 8- 8b1 8- 8g1 8f2 16- 8f2 16-"
  },
  {
    "title": "Ann Lee:\nTwo Times",
    "tempo": 63,
    "notes": "8#a1\n16#a1 16#c2 16#a1 16#c2 8#a1 8#a1 16#a1 16b1 16#a1 16b1 8#a1 8#a1 16#a1\n16#c2 16#a1 16#c2 8#a1 8#a1 16#a1 16b1 16#a1 16b1 8#a1 8#a1 16#a1 16#c2\n16#a1 16#c2 8#a1 8#a1 16#a1 16b1 16#a1 16b1 8#a1 8#a1 16#a1 16#c2 16#a1\n16#c2 8#a1 8#a1 16#a1 16b1 16#a1 16b1 8#a1 8#a1 16#a1"
  },
  {
    "title": "Aqua: Barbie\nGirl",
    "tempo": 125,
    "notes": "8#g2\n8e2 8#g2 8#c3 4a2 4- 8#f2 8#d2 8#f2 8b2 4#g2 8#f2 8e2 4- 8e2 8#c2 4#f2\n4#c2 4- 8#f2 8e2 4#g2 4#f2"
  },
  {
    "title": "Aqua: Lollipop",
    "tempo": 140,
    "notes": "8#d1\n8c2 8f1 8c2 8f1 8c2 8f1 8#d2 8f1 8#c2 8#a1 8#c2 8#a1 8#c2 8#g1 16#c2 16#d2\n16e2 16f2 8c2 8f1 8c2 8f1 8c2 8f1 8#d2 8f1 8#c2 8#a1 8#c2 8#a1 8#c2 8#g1\n8#a1 8f1 8c2 8f1 8c2 8f1 8c2 8f1 8#d2 8f1 8#c2 8#a1 8#c2 8#a1 8#c2 8#g1\n16#c2"
  },
  {
    "title": "ATB: 9PM",
    "tempo": 140,
    "notes": "8a1 8a1\n8b1 4a1 16c2 8- 16- 16c2 8- 16- 8c2 8e2 8d2 4f1 4- 8g1 8g1 8a1 4g1 16a1\n8- 16- 8c2 8- 8c2 8d2 8c2 4g1"
  },
  {
    "title": "A-Team  Recommended",
    "tempo": 100,
    "notes": "1d2 4d2\n4e2 2#f2 1g2 4a2 4a1 4d2 4#c2 8#f2 8#f2 8e2 4#f2 4e2 4#f2 4e2 8e2 4b2 4a2\n8#f2 8#f2 8e2 4#f2 4e2 4d2 4d2 8e2 2e2 8#f2 8#f2 8e2 4#f2 4e2 4#f2 4e2\n8e2 4b2 4a2 8#f2 8#f2 8e2 4#f2 4e2 4d2 4d2 8e2 2e2"
  },
  {
    "title": "Auld Lang\nSyne",
    "tempo": 100,
    "notes": "4g1 4.c2\n8c2 4c2 4e2 4.d2 8c2 4d2 8e2 8d2 4.c2 8c2 4e2 4g2 2.a2 4a2 4.g2 8e2 4e2\n4c2 4.d2 8c2 4d2 8e2 8d2 4.c2 8a1 4a1 4g1 2c2"
  },
  {
    "title": "Austin Powers",
    "tempo": 100,
    "notes": "4b1 8#c2\n4#c2 4e2 8#c2 8#f2 4e2 4#c2 4e2 8g2 8e2 8a2 8g2 8e2 4e2 8e2 8e2 8b1 4d2\n8e2 8b1 4d2 8e2 8b1 4d2 8e2 4d2 8e2 8e2 8d2 8e2 8g2 8a2 8g2 4b2 4b2 8d2\n4b2 8d2 8e2 8e2 8e2 8d2 8b2 8a2 8g2 8d2 8e2 8b1 8d2"
  },
  {
    "title": "Axel F  Recommended",
    "tempo": 100,
    "notes": "4g2 8.#a2\n16g2 16- 16g2 8c3 8g2 8f2 4g2 8.d3 16g2 16- 16g2 8#d3 8d3 8#a2 8g2 8d3\n8g3 16g2 16f2 16- 16f2 8d2 8a2 2g2"
  },
  {
    "title": "Backstreet\nBoys: As Long As You Love Me",
    "tempo": 200,
    "notes": "4#g1\n32- 4#g1 4g1 4f1 4g1 2- 4- 4g1 4g1 4#g1 4#a1 4#d1 4- 2- 2- 4c1 2#d1 32-\n4f1 4g1 2f1 32- 4#d1 4d1 2#d1 2-"
  },
  {
    "title": "Baddiel and Skinner: Three Lions",
    "tempo": 100,
    "notes": "4a1 4g1 8f1 4e1 4d1 4- 4g1 4g1 4e1 8g1 8a1 4e1 4- 4a1 4g1 4f1 8e1 4d1 4- 4g1 4g1 4e1 8g1 8a1 4e1 4-"
  },
  {
    "title": "Baha Men:\nWho Let The Dogs Out",
    "tempo": 125,
    "notes": "8g2 16g2\n16- 8g2 4g2 8g2 16- 4c2 8- 8c2 8- 8c2 16- 16- 8c2 16- 8c2 16- 4g2 16g2\n16- 8g2 4g2 8g2 16- 4c2 8- 8c2 8- 8c2 16- 8c2 16- 8c2"
  },
  {
    "title": "Basement\nJaxx: Red Alert",
    "tempo": 140,
    "notes": "8e1 8g1\n4b1 4c2 4b1 4c2 4b1 4a1 4g1 4e1 2a1 2- 4e1 4g1 4b1 4c2 4b1 4c2 4b1 4a1\n4g1 4e1 2a1"
  },
  {
    "title": "Beatles:\nCome Together",
    "tempo": 113,
    "notes": "4f1 4f1\n8#a1 8c2 2#g2 2f2 4f1 4f1 8#a1 8c2 2#g2 2f2 4f1 4f1 8#a1 8c2 2#g2 2f2 4#g2\n8#g2 4#g2 4#g2 4f2 4#d2 2f2 4#g2 8#g2 4#g2 4#g2 4f2 4#d2 2f2 2#g2 4#g2\n4#g2 4f2 4#d2 2f2 2#g2 4f2 4#g2 4f2 4#d2 2f2 2g2 1g2 2g2 4f2 1g2 4#g2"
  },
  {
    "title": "Beatles:\nHappy Together",
    "tempo": 125,
    "notes": "16c2\n4c2 16d2 4#d2 16d2 2#d2 16d2 2#d2 4g2 4f2 16#d2 4d2 16c2 4d2 16c2 2d2 16c2\n4#a1 16c2 2d2 16f2 4#d2 16d2 4c2 16#a1 4c2 16#a1 2c2 16#a1 4#g1 16#a1 4c2\n4c2 16c2 4c2 16d2 8d2 8c2 4b1 1g2 4c2 4g2 4e2 4c2 4#a1 16d2 4f2 4a2 16#a2\n4a2"
  },
  {
    "title": "Beatles:\nHelp",
    "tempo": 113,
    "notes": "4c2 4c2\n4c2 4c2 8c2 4c2 4c2 4c2 4c2 4c2 4#d2 2c2 8#a1 2#g1 8c2 8b1 4c2 8b1 8c2\n8b1 2c2 8#g1 4#c2 4#c2 4#c2 8#c2 1c2 4#d2 4#d2 8#d2 4#d2 4#d2 4#c2 4c2\n4#a1 2#c2 4c2 2#a1 8c2 4#c2 4#d2 4#d2 4#d2 4#d2 4#d2 4#c2 4c2 4#a1 2#c2\n4c2"
  },
  {
    "title": "Beatles:\nLet It Be",
    "tempo": 71,
    "notes": "16#a1\n16#a1 8#a1 16#a1 8c2 8g1 4#a1 8#a1 16#d2 4f2 32f2 16g2 16g2 4g2 16f2 8f2\n16#d2 2#d2 16#a1 16g2 4g2 8#g2 16g2 8g2 4f2 16g2 16f2 8f2 2#d2 16#a1 8#a1\n16#a1 8c2 8g1 4#a1 8#a1 16#d2 4f2 32f2 16g2 16g2 4g2 16f2 16f2 8#d2 16#d2\n4#d2 16#a1 16g2 4g2"
  },
  {
    "title": "Beatles:\nYellow Submarine",
    "tempo": 125,
    "notes": "8#a1\n8b1 2#c2 8#a1 8#g1 8#a1 2#f1 8#a1 8#a1 8#g1 8#f1 2#d1 8#a1 8#a1 1#g1 4#c2\n4#c2 4#c2 8#c2 8#d2 8#g1 8#g1 8#g1 8#g1 2#g1 8#g1 8#g1 4#g1 2#g1 8#f1 8#f1\n8#f1 8#f1 2#f1 4#c2 4#c2 4#c2 8#c2 8#d2 8#g1 8#g1 8#g1 8#g1 2#g1 8#g1 8#g1\n4#g1 2#g1 8#f1 8#f1"
  },
  {
    "title": "Bee Gees:\nStaying Alive",
    "tempo": 225,
    "notes": "4f1 4g1\n4- 4#a1 4- 4- 8f1 4- 4- 8d1 4c1 4d1 4f1 4- 4c1 4d1 4- 4f1 4- 4- 8c1 4d1\n4- 4f1 4- 8g1 4#a1"
  },
  {
    "title": "Beethoven:\nFür Elise",
    "tempo": 125,
    "notes": "8e2 8#d2\n8e2 8#d2 8e2 8b1 8d2 8c2 4a1 8- 8c1 8e1 8a1 4b1 8- 8e1 8#g1 8b1 4c2 8-\n8e1 8e2 8#d2 8e2 8#d2 8e2 8b1 8d2 8c2 4a1 8- 8c1 8e1 8a1 4b1 8- 8e1 8c2\n8b1 4a1"
  },
  {
    "title": "Beverly Hills\nCop",
    "tempo": 225,
    "notes": "4f1 4-\n4#g1 8- 4f1 8f1 4#a1 32- 4f1 4#d1 4f1 4- 4c2 8- 4f1 8f1 4#c2 32- 4c2 4#g1\n4f1 4c2 4f2 8f1 4#d1 8#d1 32- 4c1 4g1 1f1"
  },
  {
    "title": "Big Brother UK",
    "tempo": 125,
    "notes": "16f1 8f1 16f1 8f1 8e1 16e1 8e1 16e1 8f1 8g1 16f1 8f1 16f1 8f1 8f1 16g1 8g1 16g1 8f1 8g1 1.a1 8- 16f1 8f1 16f1 8f1 8e1 16e1 8e1 16e1 8f1 8g1 16f1 8f1 16f1 8f1 8f1 16g1 8g1 16g1 8f1 8g1 1.a1"
  },
  {
    "title": "Billie Piper: Day and Night",
    "tempo": 125,
    "notes": "8#g1 4g1 8f1 4#c1 8#g1 4g1 8f1 4f1 8#g1 4g1 8f1 4#c1 8#c1 8f1 8g1 4#g1 4g1 4f1 8c2 4#a1 8#g1 4f1 8c2 4#a1 4#g1 4#a1 16#g1 4f1 8f1 8#g1 8f1 4#a1 4b1 4#a1"
  },
  {
    "title": "Birdy Song",
    "tempo": 100,
    "notes": "16g2\n16g2 16a2 16a2 16e2 16e2 8g2 16g2 16g2 16a2 16a2 16e2 16e2 8g2 16g2 16g2\n16a2 16a2 16c3 16c3 8b2 8b2 8a2 8g2 8f2 16f2 16f2 16g2 16g2 16d2 16d2 8f2\n16f2 16f2 16g2 16g2 16d2 16d2 8f2 16f2 16f2 16g2 16g2 16a2 16b2 8c3 8a2\n8g2 8e2 4c2"
  },
  {
    "title": "Black Bear",
    "tempo": 180,
    "notes": "4#d2\n4#d2 8g2 16#d2 8#a2 16g2 4#d2 4#d2 8g2 16#d2 8#a2 16g2 4f2 8c2 16b1 4c2\n8f2 16#d2 8d2 16#d2 8c2 16d2 8#a1 16c2 8d2 16#a1 4#d2 4#d2 8g2 16#d2 8#a2\n16g2 4#d2 4#d2 8g2 16#d2 8#a2 16g2 4f2 4f2 4f2 8g2 16f2 4#d2 4g2 2#d2"
  },
  {
    "title": "Blink 182:\nAll The Small Things",
    "tempo": 160,
    "notes": "4a1 4f1\n4- 8- 4e1 4f1 2- 4#a1 4f1 4- 8- 4e1 4f1 2- 8a1 8a1 8a1 8- 4a1 8- 4a1 8#a1\n8a1 16- 32- 4g1 8- 16- 8g1 8g1 4g1 8f1 16- 32- 8f1 4#a1 8#a1 4a1 4f1"
  },
  {
    "title": "Blockster:\nYou Should be Dancing",
    "tempo": 80,
    "notes": "8#d2\n8#f2 8#g2 8#g2 8#g2 4#c2 2b2 8#d2 8#f2 8#d2 8#c2 2b1 8#g2 16b2 16b2 16b2\n16c2 2#c2 2#c2 8#g2 16b2 16b2 16b2 16c2 2#c2 2#c2 8b2 8b2 8#g2 4#c2 2b2\n2#g2 4#c2 2b2 2#g2 8#d2 8#f2 8#g2 8#g2 8#f2 8#g2 2#a2 8#d2 8#f2 8#g2 16#g2\n16#f2 2#g2 8#d2 8#f2"
  },
  {
    "title": "Bob the Builder",
    "tempo": 125,
    "notes": "4a1 8a1\n8#c2 8b1 8b1 8- 8e1 4a1 8#c2 4b1 4- 4a1 8a1 8#c2 8b1 8b1 4- 4a1 8#c2 4b1\n4- 4#c2 8#c2 8a1 4b1 8- 8e1 8a1 4#c2 4b1 4- 4#c2 8a1 8a1 8b1 8b1 8- 8e1\n8b1 8#c2 4b1 4a1"
  },
  {
    "title": "Bolero",
    "tempo": 80,
    "notes": "4c3 8c3\n16b2 16c3 16d3 16c3 16b2 16a2 8c3 16c3 16a2 4c3 8c3 16b2 16c3 16a2 16g2\n16e2 16f2 2g2 16g2 16f2 16e2 16d2 16e2 16f2 16g2 16a2 4g2 4g2 16g2 16a2\n16b2 16a2 16g2 16f2 16e2 16d2 16e2 16d2 8c2 8c2 16c2 16d2 8e2 8f2 4d2 2g2"
  },
  {
    "title": "Bomfunk MC's:\nFreestyler",
    "tempo": 125,
    "notes": "8g2 8e2\n8b1 8g2 8e2 8b1 8#f2 8e2 8b1 8#f2 8e2 8b1 8d2 8c2 8g1 8d2 8c2 8g1 8e2 8d2\n8a1 8e2 8d2 8a1  8e2 16a1"
  },
  {
    "title": "Britney Spears:\nSometimes",
    "tempo": 200,
    "notes": "2- 2#d2\n2- 4#d2 4e2 4#f2 2#c2 2- 4#c2 4#d2 4e2 2b1 2- 2b1 2#c2 4#d2 4e2 4#d2 2#c2\n4b1 2#a1"
  },
  {
    "title": "Buffy The\nVampire Slayer  Recommended",
    "tempo": 225,
    "notes": "2.f1\n8.g1 8#g1 1#d1 8- 2.#d1 8.f1 8g1 2.#d1 4- 2.#a1 8.c2 8#a1 2.#g1 8- 8#g1\n1g1"
  },
  {
    "title": "Bulletme",
    "tempo": 112,
    "notes": "4b3 4g3\n16#f3 16g3 16#f3 8d3 8e3 4- 16e3 16#f3 16g3 8#f3 8g3 8a3 4b3 4g3 16#f3\n16g3 16#f3 8d3 8e3 4- 16c3 16b2 16a2 16b2"
  },
  {
    "title": "Celine\nDion: My Heart Will Go On",
    "tempo": 100,
    "notes": "2d2 2e2\n4a1 2a2 4g2 8#f2 2e2 4#f2 4g2 2#f2 4e2 4d2 4#c2 2d2 4#c2 1b1 1a1 1d2 2e2\n4a1 2a2 4g2 8#f2 2e2 4#f2 4g2 2#f2 4e2 4d2 4#c2 2d2 4#c2 4#c2 2d2 4e2 2#f2\n2e2 1d2"
  },
  {
    "title": "Christina\nAguilera: Genie In A Bottle",
    "tempo": 100,
    "notes": "8d2 8e2\n8f2 8e2 8e2 8d2 4#a1 8d2 8e2 8f2 8e2 8e2 8d2 4a1 8- 16d2 16e2 8f2 8e2 8e2\n8d2 8e2 8d2 8- 16d2 16d2 8#c2 8d2 8e2 4d2"
  },
  {
    "title": "Coca Cola",
    "tempo": 125,
    "notes": "8#f3\n8#f3 8#f3 8#f3 4g3 8#f3 4e3 8e3 8a3 4#f3 4d3 2-"
  },
  {
    "title": "Colonel Bogey",
    "tempo": 140,
    "notes": "8g2 8e2\n4- 8- 8e2 8f2 8g2 4e3 4e3 2c3 8g2 8e2 2- 8e2 8f2 8e2 4g2 4g2 2f2 8f2 8d2\n4- 8- 8d2 8e2 8f2 8g2 8e2 4- 8- 8e2 8#f2 8e2 8d2 8g2 8- 8e2 8#f2 8d2 8-\n8a2 8.g2 16#f2 8g2 8a2 8g2 8f2 8e2 8d2 8c2"
  },
  {
    "title": "Concerto\nLover",
    "tempo": 100,
    "notes": "8e2 16a1\n16b1 16#c2 16d2 8e2 8a1 8a1 8#f2 16d2 16e2 16#f2 16#g2 8a2 8a1 8a1 8d2\n16e2 16d2 16#c2 16b1 8#c2 16d2 16#c2 16b1 16a1 8#g1 16a1 16b1 16#c2 16a1\n32#c2 32d2 32#c2 32d2 32#c2 4b1 8e2 16a1 16b1 16#c2 16d2 8e2 8a1 8a1 8#f2\n16d2 16e2 16#f2 16#g2"
  },
  {
    "title": "Countdown",
    "tempo": 125,
    "notes": "16c2\n16#a1 4c2 2f1 16#c2 16c2 8#c2 8c2 2#a1 16#c2 16c2 4#c2 2f1 16#a1 16#g1\n8#a1 8#g1 8g1 8#a1 2#g1 16g1 16#g1 2#a1 16#g1 16#a1 8c2 8#a1 8#g1 8g1 4f1\n4#c2 1c2 16c2 16#c2 16c2 16#a1 1c2"
  },
  {
    "title": "Crypt",
    "tempo": 160,
    "notes": "4#d2\n4#f2 4a2 8- 8b2 4#a2 4#f2 4#d2 8- 8b1 4#a1 4#d2 4#f2 4a2 2b1 8- 4#a1 4d2\n4f2 8- 8#f2 4#g2 4b2 4#a2 8- 8#g2 4#f2 4f2 4#d2 4d2 2#d2 1-"
  },
  {
    "title": "Daft\nPunk: Da Funk  Recommended",
    "tempo": 200,
    "notes": "2f2 8#d2\n8f2 8#g2 2c2 8- 8#a1 8c2 8#d2 2#g1 8- 8g1 8#g1 8c2 2f1 4g1 4#g1"
  },
  {
    "title": "Daft Punk: Digital Love",
    "tempo": 125,
    "notes": "4d2 4#c2 8- 8a1 8b1 8a1 8b1 8a1 4#c2 8b1 4a1 8#c2 8e2 4#f2 8- 8a1 8b1 8a1 8b1 8a1 4#c2 8b1 4a1 8- 4d2 4#f2 8- 8a1 8b1 8a1 8b1 8a1 8b1 8a1 4#c2 8- 8a1 8a1 8a1 8a1 8a1 8- 8a1 8a1 8a1 4a1 4#f1"
  },
  {
    "title": "Dallas",
    "tempo": 125,
    "notes": "8e2 4a2\n8e2 4e3 8a2 4#c3 8b2 8#c3 4a2 4e2 4a2 4#f3 4e3 8#c3 8d3 2e3 8- 8e2 4a2\n4#f3 4e3 8#c3 8d3 4e3 8b2 8#c3 4a2 4e2 4a2 8#c3 8d3 4b2 8a2 2a2"
  },
  {
    "title": "Dark",
    "tempo": 140,
    "notes": "8#f3\n8e3 2#f3 16e3 16#d3 16d3 16b2 4#a2 1b2 8#f2 8e2 2#f2 8#c2 8d2 8#a1 1b1\n8#f2 8e2 2#f2 16e2 16#d2 16d2 16b1 4#a1 1b1 8#f2 8e2 2#f2 4#c2 2d2 2e1\n1b1"
  },
  {
    "title": "Death",
    "tempo": 100,
    "notes": "4.c1\n4c1 8c1 4.c1 4#d1 8d1 4d1 8c1 4c1 8c1 2c1"
  },
  {
    "title": "Depeche Mode:\nCan´t Get Enough",
    "tempo": 112,
    "notes": "8g2 8-\n8g2 16g2 8g2 16g2 8g2 8a2 8a2 8g2 8- 8g2 16g2 8g2 16g2 8g2 8a2 8a2 8c3\n8- 8a2 8- 8a2 8- 8a2 8-"
  },
  {
    "title": "Destiny's\nChild: Bug A Boo",
    "tempo": 80,
    "notes": "8e2 16c2\n16a1 16g1 8d2 8c2 8d2 16c2 8d2 16c2 8e2 8.e2 16d2 8d2 16c2 8d2 16c2 8d2\n16c2 8e2 8c2 16-  8d2 8c2 8d2 8c2 8d2 8c2 8e2 16a1 16d2 16c2 16d2\n16c2 8d2 16c2 16d2 16c2 8.a1 8-"
  },
  {
    "title": "Destiny's\nChild: Jumpin Jumpin",
    "tempo": 180,
    "notes": "8#c2\n8#c2 8#c2 8#c2 4#g1 8#g1 8a1 4- 8- 8#g1 4a1 4b1 8#g1 8#g1 8#g1 8#g1 8#g1\n8#g1 4#g1 4a1 4- 8-  8#g1 8#g1 8#g1 8#c2 8#c2 8#c2 8#c2 8#g1 8#g1\n8#g1 8a1 4- 8- 8#g1 4a1 4b1 4#g1 8#g1 8#g1 8#g1 8#g1  4#g1 4#g1 4#f1\n4e1 4#d1 2#c1"
  },
  {
    "title": "Destiny's\nChild: Say My Name",
    "tempo": 70,
    "notes": "16g2\n16g2 8g2 16f2 16#d2 4#d2 16#a1 16c2 16#d2 16c2 8f2 8c2 16#a1 16c2 16#d2\n16c2 8f2 8c2 16#a1 16c2 16#d2 16c2 8#d2 16g2 16g2 16#a2 16g2 16f2 16#d2\n4#d2"
  },
  {
    "title": "DJ Jean:\nThe Launch",
    "tempo": 140,
    "notes": "8b1 8-\n8b1 8- 8#a1 8- 8#a1 8- 8a1 8- 8a1 8- 8a1 8- 8e1 8- 8a1 8- 8a1 8- 8a1 8-\n8e1 8- 8g1 8- 8g1 8- 8g1 8- 8e1 8- 8b1 8- 8b1 8- 8#a1 8- 8#a1 8- 8a1 8-\n8a1 8- 8a1 8- 8e1 8- 8a1 8- 8a1 8- 8a1 8- 8e1 8- 8g1 8- 8g1 8- 8g1 8- 8e1"
  },
  {
    "title": "DJ Jurgen\nFeat. Alice Deejay: Better Off Alone",
    "tempo": 140,
    "notes": "8c2 8-\n8c2 8a1 8- 8c2 8- 8c2 8- 8b1 8- 8g1 8g2 16- 8g2 16- 8e2 8c2 8- 8c2 8a1\n8- 4c2 8c2 8- 8b1 8- 8g1 8f2 16- 8f2 16- 8e2"
  },
  {
    "title": "DMX: Ruff\nRyder's Anthem",
    "tempo": 90,
    "notes": "8a1 16-\n16a1 8d2 8d2 8a1 16- 16a1 8c2 8c2 8a1 16- 16a1 8c2 8c2 8a1 8c2 8a1 8c2\n8a1 16- 16a1 8c2 8c2 8g1 8g1 8c2 8c2 8a1 16- 16a1 8c2 8c2 8a1 8a1 8c2 16c2"
  },
  {
    "title": "Don't Care",
    "tempo": 125,
    "notes": "16f2\n16e2 16f2 16e2 16f2 16e2 8d2 16e2 16d2 16e2 16d2 16e2 16d2 16c2 16d2 4d2"
  },
  {
    "title": "Doors: Light\nMy Fire",
    "tempo": 140,
    "notes": "8b2 16g2\n16a2 8b2 8d3 8c3 8b2 8a2 8g2 8a2 16f2 16a2 8c3 8f3 16d3 16c3 16#a2 16g2\n8#g2 8g2 8#g2 16g2 16a2 8b2 8#c3 16b2 16a2 16g2 16f2 8e2 8f2 1a2 4a2"
  },
  {
    "title": "Do You Believe\nin Me",
    "tempo": 180,
    "notes": "2f1 4#f1\n4#g1 4.#c1 4.c1 4#c1 4f3 4#f3 4f3 4#d3 4#c3 2#a1 1.#g1 2c2 4#c2 2f3 2#d3\n2#c3 2#g2 2f1 4#f1 4#g1 4.#c1 4.c1 4#c1 4f3 4#f3 4f3 4#d3 4#c3 2#a1 1.#g1\n2c2 1.#c2"
  },
  {
    "title": "Dr.Bombay:\nCalcutta",
    "tempo": 90,
    "notes": "8b1 8#c2\n8#c2 8#c2 8#c2 8#c2 8#c2 4#c2 8#c2 8#d2 8#d2 8#d2 8b1 4#c2 8#a1 8b1 8#c2\n8#c2 8#c2 8#c2 8#c2 4#c2 32a1 8#a1 8#a1 8#g1 8#g1 2#g1 4#c2 4#f2 4#d2 8#d2\n8#f2 8#f2 8#f2 8#f2 8f2 8#d2 4#c2 4#c2 4#f2 4#d2 8#d2 8#f2 8#f2 8#f2 8#f2\n8f2 8#d2 4#c2"
  },
  {
    "title": "Dualing Banjos",
    "tempo": 200,
    "notes": "8#c2\n8d2 4e2 4#c2 4d2 4b1 4#c2 4d2 4b1 4- 16#c3 16- 16d3 16- 8e3 8- 8#c3 8-\n8d3 8- 8b2 8- 8#c3 8- 8a2 8- 4b2 4- 4a1 4a1 4b1 4#c2 4a1 4#c2 4b1 4- 8a2\n8- 8a2 8- 8b2 8- 8#c3 8- 8a2 8- 8#c3 8- 8b2"
  },
  {
    "title": "Eagles:\nHotel California",
    "tempo": 71,
    "notes": "16g2\n16g2 8g2 16f2 16f2 8f2 2g2 8g2 8g2 8f2 8f2 2f2 16f2 16g2 8g2 16f2 16f2\n8f2 16f2 2g2 8g2 8g2 8g2 16f2 16f2 16f2 16#d2 2c2 16g2 16g2 8g2 16f2 16#d2\n8#d2 16f2 2g2 16#d2 16g2 16g2 8g2 8f2 8#d2 2#d2 16#d2 16f2 16f2 16f2 16f2\n16f2 16#d2"
  },
  {
    "title": "Eiffel 65:\nBlue v1",
    "tempo": 140,
    "notes": "4a1 4#a1\n8g1 8#a1 8c2 8f1 8a1 4#a1 8g1 8#a1 8d2 4#d2 8d2 8c2 4#a1 8g1 8#a1 8c2 8f1\n8a1 4#a1 8g1 8#a1 8d2 4#d2 8d2 8c2 4#a1 8g1 8#a1 8c2 8f1 8a1 4#a1 8g1 8#a1\n8d2 4#d2 8d2 8c2 4#a1 8g1 8#a1 8a1 8f1 8f1 2g1"
  },
  {
    "title": "Eiffel 65:\nBlue v2",
    "tempo": 100,
    "notes": "8d2 8#f1\n8b1 8d2 8e2 8a1 8#c2 4d2 8b1 8d2 8#f2 8g2 8b1 8#f2 8e2 8d2 8#f1 8b1 8d2\n8e2 8a1 8#c2 4d2 8b1 8d2 8#f2 8g2 8b1 8#f2 1e2 8d2 8#f1 8b1 8d2 8e2 8a1\n8#c2 4d2 8b1 8d2 8#f2 8g2 8b1 8#f2 8e2 8d2 8#f1 8b1 8d2 8e2"
  },
  {
    "title": "Elton John:\nCandle In The Wind",
    "tempo": 80,
    "notes": "4b1 4b1\n4b1 8a1 2b1 8g1 8a1 8b1 4g1 4e2 4e2 8f2 4e2 8d2 4e2 8d2 8e2 8d2 4d2 8g1\n4g1 4g1 4c2 8b1 4a1 8g1 2e1 8e1 8g1 8a1 8b1 8c2 4d2 2d2 8g1 8a1 8b1 4g1\n8e2 4e2 4f2 8e2 8d2 8d2 8e2 4d2 8d2 4d2 4g1 4a1"
  },
  {
    "title": "Elvis vs JXL:\nA little Less Conversation",
    "tempo": 70,
    "notes": "16#d1 16f1 16f1 32#d1 16#g1 16f1 32f1 32#d1 32#d1 16f1 16f1 16#d1 4- 16#d1 16f1 16f1 32#d1 16#g1 16f1 16.#d1 16f1 16f1 16#d1 16c1 4- 16#d1 16f1 16f1 32#d1 16#g1 16.#g1 16f1 32#g1 32f1 16#g1 32#g1 32f1 32#g1 16f1 16.#g1 16c1 32#d1 16f1 16#g1 16f1 4- 32c2 16c2 16#g1 16f1"
  },
  {
    "title": "Eminem: Real\nSlim Shady",
    "tempo": 112,
    "notes": "8c2 8#d2\n8g1 8#g1 4c2 8- 8#g1 4g1 8- 8#g1 16g1 16#g1 8g1 8#f1 8g1 8c2 8#d2 8g1 8#g1\n4c2 8- 8#g1 4g1 8- 8#g1 16g1 16#g1 8g1 8#f1 8g1 8c2 8#d2 8g1 8#g1 4c2 8-\n8#g1 4g1 8- 8#g1 16g1 16#g1 8g1 8#f1 8g1"
  },
  {
    "title": "Eminem: Stan  Recommended",
    "tempo": 63,
    "notes": "16#g1\n16.#d2 16#d2 16#d2 16e2 16.#c2 16b1 32.#d2 16b1 8.#c2 16#a1 16.b1 16.#d2\n16.#a1 16.#d2 8.#g1 16#g1 16#d2 16.#d2 16.#d2 16.e2 16.#c2 8b1 8#d2 4#c2\n16b1 16.#f2 16.#g2 16.#d2 16#c2 8#d2"
  },
  {
    "title": "Eminem: Without Me",
    "tempo": 112,
    "notes": "8d2 8#a2 8a2 8g2 4d2 4- 8d2 8c2 8d2 8f2 8d2 8- 4- 8d2 8c2 8d2 8c2 8#a1 8- 4- 8#a1 8a1 8f1 4g1 4- 8- 8d2 8#a2 8a2 8g2 8d2 8- 4- 8d2 8c2 8d2 8f2 4d2 4- 8d2 8c2 8d2 8c2 8#a1 8- 4- 8#a1 8a1 8f1 8g1"
  },
  {
    "title": "Entertainer",
    "tempo": 140,
    "notes": "8d2 8#d2\n8e2 4c3 8e2 4c3 8e2 2c3 8c3 8d3 8#d3 8e3 8c3 8d3 4e3 8b2 4d3 2c3 4- 8d2\n8#d2 8e2 4c3 8e2 4c3 8e2 2c3 8- 8a2 8g2 8#f2 8a2 8c3 4e3 8d3 8c3 8a2 2d3"
  },
  {
    "title": "Europe: The\nFinal Countdown",
    "tempo": 125,
    "notes": "4- 8-\n16b2 16a2 4b2 4e2 4- 8- 16c3 16b2 8c3 8b2 4a2 4- 8- 16c3 16b2 4c3 4e2 4-\n8- 16a2 16g2 8a2 8g2 8#f2 8a2 4g2 8- 16#f2 16g2 4a2 8- 16g2 16a2 8b2 8a2\n8g2 8#f2 4e2 4c3 2b2 4- 16b2 16c3 16b2 16a2 1b2"
  },
  {
    "title": "Exodus",
    "tempo": 70,
    "notes": "8#c2\n4#f2 8#c3 4b2 8#f2 8a2 8b2 8#g2 16e2 4#f2 8#c3 4e3 8#d3 8e3 8#f3 8#d3 16b2\n2#c3"
  },
  {
    "title": "Eye Of The\nTiger  Recommended",
    "tempo": 112,
    "notes": "8d1 8e1\n8f1 8- 8f1 16f1 8f1 16- 8e1 8d1 8c1 8c1 8d1 8e1 8d1 8- 8d1 8e1 8f1 16-\n32- 8e1 8f1 8g1 16- 32- 8f1 16- 32a1 8- 16- 2a1 4- 8d1 16c1 8d1 16- 8c1"
  },
  {
    "title": "Fame",
    "tempo": 125,
    "notes": "2c3 8a2\n8a2 8a2 8a2 4a2 8a2 4a2 8g2 4g2 2- 8g2 8g2 8g2 4g2 8f2 8g2 8a2 4a2 2c3\n4- 8a2 8a2 8a2 4a28b2 8a2 4a2 8g2 4g22- 8g2 8g2 8g2 4g2 8f2 8g2 2f2 2-"
  },
  {
    "title": "Faithless: God is a DJ",
    "tempo": 140,
    "notes": "8d2 8.d2 8.c2 8c2 8.c2 8.b1 8b1 8.b1 8.c2 8c2 8b1 8c2 8- 8d2 8.d2 8.c2 8c2 8.c2 8.b1 8b1 8.b1 8.c2 8c2 8b1 8c2 8- 8d2 8.d2 8.e2 8e2 8.e2 8.b1 8b1 8.b1 8.c2 8c2 8b1 8c2 8- 8d2 8.d2 8.e2 8e2 8.e2 8.b1 8b1 8.b1 8.c2 8c2 8b1"
  },
  {
    "title": "Fawlty Towers",
    "tempo": 125,
    "notes": "8b2 8c3\n8d3 8#c3 8d3 8#c3 8d3 8g3 4e3 8- 8d3 8c3 8b2 8c3 8b2 8c3 8b2 8c3 8#f3 4d3\n8- 8c3 8b2 8a2 8g2 8#f2 8g2 8#f2 8g2 8d3 8c3 8b2 8c3 8b2 8a2 8g2 8#f2 8g2\n8e2 8#f2 4d2 8c3 8d3 8b2 8c3 4a2"
  },
  {
    "title": "Flintstones",
    "tempo": 200,
    "notes": "4#g2\n4#c2 8- 4#c3 8#a2 4#g2 4#c2 8- 4#g2 8#f2 8f2 8f2 8#f2 8#g2 4#c2 4#d2 2f2\n2- 4#g2 4#c2 8- 4#c3 8#a2 4#g2 4#c2 8- 4#g2 8#f2 8f2 8f2 8#f2 8#g2 4#c2\n4#d2 2#c2"
  },
  {
    "title": "Fools Garden:\nLemon Tree",
    "tempo": 70,
    "notes": "8b1 32b1\n16b1 2e2 8a1 8a1 4d2 8b1 32b1 32b1 16b1 8a1 16g1 8a1 8a1 4b1 8b1 32b1 32b1\n8e2 8g2 8#f2 16d2 2b1 8a1 32a1 8a1 16a1 8a1 16g1 8a1 8a1 8b1 8d2 32b1 16a1\n8a1 32g1 8a1 2b1 16d1 8b1 8c2 4d2 16b1 8a1 8#g1 4#g1 4a1 4#g1 4e1 4#g1\n2e1 32a1 2b1 4b1 4a1 8e1 8b1 8b1 8#c2 2a1 8#f1 8#f1 8b1"
  },
  {
    "title": "Fragma: You're Alive",
    "tempo": 225,
    "notes": "4#g1 8- 4#d1 8- 4#g1 8- 4#d1 8- 4#g1 4#d1 4#a1 8- 4#d1 8- 4#a1 8- 4#d1 8- 4#a1 8#a1 4#a1 1#g1 4- 8#g1 8- 8#g1 8#d1 8- 8#d1 8- 8#c1 8- 8#c1 8#c1 8- 8#d1 4c1"
  },
  {
    "title": "Friends",
    "tempo": 160,
    "notes": "16.f1\n4#a1 16.c2 4#d2 16.d2 4c2 16.#a1 8.#a1 8.f1 16.#a1 8.c2 2.c2 16.f1 4#a1\n16.c2 4#d2 16.d2 4.c2 16.#a1 8.#d2 8.d2 16.c2 4#a1 2.f2 16.#d2 4#d2 8.#d2\n8.#d2 16.#d2 4#d2 8.#d2 16.#d2 4d2 2.d2 16.#a1 8c2 16.d2  16.#d2 8.#d2\n4#d2 8.#d2 8.#d2 16.d2 4c2 8.#a1 4#a1 16.f1 16.#a1 8.d2 2.c2"
  },
  {
    "title": "Fugees: Killing\nMe Softly v1",
    "tempo": 90,
    "notes": "4- 8e2\n4f2 4g2 8a2 4a2 8g2 4d2 4g2 4- 8- 8a2 4g2 8f2 8e2 8e2 8f2 2c2 4- 8e2 4f2\n4g2 8a2 4a2 8g2 4a2 4b2 8b2 8c3 8b2 16a2 8g2 16a2 2a2 2a2"
  },
  {
    "title": "Fugees: Killing\nMe Softly v2",
    "tempo": 90,
    "notes": "8f1 4#f1\n4#g1 8#a1 4#a1 8#g1 4#d1 2#g1 8#a1 4#g1 8#f1 8f1 8f1 8#f1 2#c1 8f1 4#f1\n4#g1 8#a1 4#a1 8#g1 4#a1 4c2 8c2 8#c2 8c2 16#a1 8#g1 16#a1 2#a1 2#a1"
  },
  {
    "title": "Garbage:\nI think I'm paranoid",
    "tempo": 125,
    "notes": "16f2\n16- 16#g2 16- 16f2 16- 8f3 8f2 8#g2 8f2 8#d2 8- 8#d2 4#c2 8- 8#c2 8#d2"
  },
  {
    "title": "George of\nThe Jungle",
    "tempo": 225,
    "notes": "4f1 4-\n4- 4c1 4- 4- 4f1 4- 4f1 4- 4f1 4a1 4- 4c2 4- 4f1 4- 4f1 4- 4g1 4g1 4- 4a1\n4- 4- 4- 4f1 4f1 4f1 4f1 4g1 4g1 4- 4f1 4- 4- 4- 4f2"
  },
  {
    "title": "Girl From\nIpanima v1",
    "tempo": 160,
    "notes": "4g2 8e2\n8e2 4d2 4g2 8e2 4e2 8e2 8d2 4g2 4e2 4e2 8d2 4g2 8g2 8e2 4e2 8e2 8d2 4f2\n4d2 4d2 8d2 8c2 4e2 4c2 4c2 8c2 4#a1 2c2"
  },
  {
    "title": "Girl From\nIpanima v2",
    "tempo": 125,
    "notes": "16f2\n2#f2 8#d2 4#d2 4#c2 32f2 2#f2 4#d2 4#d2 2#c2 32f2 4#f2 8#d2 8#d2 32e2 16#d2\n8#c2 32f2 2#f2 8#d2 4#d2 16e2 16#d2 2#c2 32e2 8#c2 8#c2 4b1 32d2 1#d2 4b1\n8b1 8a1 1b1 4#f2 4#d2 8#d2 4#c2 2#f2 4#d2 4#d2 8#d2 2#c2 32f2 4#f2 8#d2\n8#d2 16e2 16#d2 8#c2"
  },
  {
    "title": "God Bless\nOur Queen",
    "tempo": 90,
    "notes": "4a1 4a1\n4b1 2#g1 8a1 4b1 4#c2 4#c2 4d2 2#c2 8b1 4a1 4b1 4a1 4#g1 2a1 8b1 8#c2 8d2\n4e2 4e2 4e2 2e2 8d2 4#c2 4d2 4d2 4d2 2d2 8#c2 4b1 4#c2 8d2 8#c2 8b1 8a1\n2#c2 8d2 4e2 8#f2 8d2 4#c2 4b1 4a1"
  },
  {
    "title": "God Save\nThe Queen",
    "tempo": 112,
    "notes": "4g2 4g2\n4a2 4.#f2 8g2 4a2 4b2 4b2 4c3 4.b2 8a2 4g2 4a2 4g2 4#f2 2g2"
  },
  {
    "title": "Good the\nBad & the Ugly  Recommended",
    "tempo": 63,
    "notes": "32c2\n32f2 32c2 32f2 4c2 8#g1 8#a1 4f1 8- 32c2 32f2 32c2 32f2 4c2 8#g1 8#a1 4#d2\n8- 32c2 32- 32#d2 4f2 16#g2 32- 16g2 32- 32f2 32- 4#d2 8- 32c2 32f2 32c2\n32f2 4c2 8#a1 4f1"
  },
  {
    "title": "Greenslade",
    "tempo": 70,
    "notes": "8#a1\n4#c2 8#d2 4f2 16#f2 8f2 4#d2 8c2 4#g1 16#a1 8c2 4#c2 8#a1 4#a1 16#g1 8#a1\n4c2 8#g1 4f1 8#a1 4#c2 8#d2 4f2 16g2 8f2 4#d2 8c2 4#g1 16#a1 8c2 4#c2 16c2\n8#a1 4a1 16g1 8a1 4#a1"
  },
  {
    "title": "Greensleaves",
    "tempo": 140,
    "notes": "4g2 2#a2\n4c3 4.d3 8#d3 4d3 2c3 4a2 4.f2 8g2 4a2 2#a2 4g2 4.g2 8f2 4g2 2a2 4f2 2d2\n4g2 2#a2 4c3 4.d3 8e3 4d3 2c3 4a2 4.f2 8g2 4a2 4.#a2 8a2 4g2 4.#f2 8e2\n4#f2 2g2 2.g2"
  },
  {
    "title": "Guns 'N Roses:\nParadise City",
    "tempo": 225,
    "notes": "8d1 4c1\n4#c1 8d1 4c1 4#c1 4d1 4c1 4d1 4c1 4d1 8f1 8d1 4c1 4#c1 8d1 4c1 4#c1 4d1\n4c1 4d1 4c1 4d1 8f1"
  },
  {
    "title": "Haddaway:\nWhat is Love",
    "tempo": 225,
    "notes": "4c2 4b1\n4c2 4a1 4c2 4b1 4c2 4a1 4c2 4b1 4c2 4g1 4c2 4b1 4c2 4g1 4b1 4a1 4b1 4g1\n4b1 4a1 4b1 4g1 4b1 4a1 4b1 4g1 4b1 4a1 4b1 4g1"
  },
  {
    "title": "Halloween",
    "tempo": 180,
    "notes": "8d3 8g2\n8g2 8d3 8g2 8g2 8d3 8g2 8#d3 8g2 8d3 8g2 8g2 8d3 8g2 8g2 8d3 8g2 8#c3 8g2\n8#c3 8#f2 8#f2 8#d3 8#f2 8#f2 8#c3 8#f2 8c3 8#f2 8#c3 8#f2 8#f2 8#d3 8#f2\n8#f2 8#c3 8#f2 8d3 8#f2"
  },
  {
    "title": "Happy Days",
    "tempo": 80,
    "notes": "8#c1\n8#f1 8#a1 8#c2 16#d2 8f2 2#d2 8#d1 8#g1 8b1 8#d2 16f2 8#f2 2f2 8f1 8#a1\n8d2 8f2 16#f2 8#g2 2#f2 16#d2 8#d2 2f2 16#d2 8#d2 2f2 16f2 16f2 8f2 8#f2\n16g2 2#g2 8#f2 8#f2 16#g2 4#a2 8#g2 8#f2 16#g2 4#f2 8#d2 8#d2 16#d2 2f2\n8#f2 8#f2 16#g2 4#a2 8#g2"
  },
  {
    "title": "Hawaii 5-0",
    "tempo": 80,
    "notes": "16#c2\n16#c2 16e2 8#g2 4#f2 4#c2 16#c2 16#c2 16b1 8e2 2#c2 16#c2 16#c2 16e2 8#g2\n4#f2 4#c2 16b2 16b2 16#g2 8e2 2#c2 16e2 16d2 16#c2 16b2 16a2 16#g2 16#f2\n16#g2 16e2 4#f2 16#f2 16e2 16d2 16c2 16b2 16#g2 16#f2 16e2 16#f2 8#g2 16#f2\n8e2 8#f2 4#c2 16b2 16b2 16#g2 8e2"
  },
  {
    "title": "How Deep\nIs Your Love",
    "tempo": 112,
    "notes": "1b1 4b1\n4#c2 4d2 1b1 8b1 8#c2 2d2 4d2 8#c2 4b1 16#c2 16b1 1a1 8a1 4b1 2c2 8c2 4b1\n8b1 4a1 8a1 4#g1 8#g1 8e1 4#f1 8#g1 16#g1 8#f1 2e1 8f1 8#f1 8#g1 4a1 8a1\n8#c1 2#g1 8a1 16a1 16#g1 1#f1 8#g1 8a1 4b1 8b1 8#g1 4b1 16b1 16#c2 8b1"
  },
  {
    "title": "I\nBelieve In Miracles",
    "tempo": 63,
    "notes": "16#f2\n32e2 4e2 16d2 16#f2 32d2 4d2 8b1 4a1 16#f2 32e2 4e2 16d2 2b1 16#f2 32e2\n4e2 16d2 16#f2 32d2 4d2 8b1 4a1 16#f2 32e2 4e2 16d2 2b1 16b1 16#f2 32d2\n16e2 16d2 16b1 4a1 16b1 16#f2 32d2 16e2 16d2 4#f2 16b1 16#f2 16d2 16e2\n32d2 16b1 16a1 4b1"
  },
  {
    "title": "Ickley",
    "tempo": 100,
    "notes": "8d2 8g2\n16g2 8g2 8d2 4g2 8- 8a2 8b2 16b2 8b2 8a2 4b2 8- 8b2 4a2 4g2 4g2 4#f2 2g2"
  },
  {
    "title": "If You Were\nHere",
    "tempo": 70,
    "notes": "8#f1\n16#g1 8a1 16b1 16b1 16a1 16#g1 4a1 16#f1 16a1 16#g1 16a1 16b1 16#c2 16b1\n16a1 16#g1 16a1 16#g1 16e1 8#f1 16#f1 16a1 16#f1 8#c2 8#c2 16#c2 8a1 8#c2\n16b1 4a1 16#f1 16a1 16#f1 8a1 8#g1 16a1 8b1 8a1 16b1 16#c2 8a1 16#f1 16a1\n16#f1 8#c2 8#c2 16#c2 8a1 8e2"
  },
  {
    "title": "Imperial",
    "tempo": 112,
    "notes": "4a1 4a1\n4a1 4f1 16c2 4a1 4f1 16c2 2a1 4e2 4e2 4e2 4f2 16c2 4#g1 4f1 16c2 2a1 4a2\n4a1 16a1 4a2 4#g2 16g2 16#f2 16f2 4#f2 8#a1 4#d2 4d2 16#c2 16c2 16b1 4c2\n8f1 4#g1 4f1 16#g1 4c2 4a1 16c2 2e2 4a2 4a1 16a1 4a2 4#g2 16g2 16#f2 16f2"
  },
  {
    "title": "Indiana Jones\nv1",
    "tempo": 225,
    "notes": "4e2 8-\n8f2 8g2 8- 1c3 8- 4d2 8- 8e2 1f2 4- 4g2 8- 8a2 8b2 8- 1f3 4- 4a2 8- 8b2\n2c3 2d3 2e3 4e2 8- 8f2 8g2 8- 1c3 4- 4d3 8- 8e3 1f3"
  },
  {
    "title": "Indiana Jones\nv2",
    "tempo": 125,
    "notes": "4e1 16f1\n8g1 2c2 4d1 16e1 1f1 4g1 16a1 8b1 2f2 4a1 16b1 4c2 4d2 4e2 4e1 16f1 8g1\n1c2 4d2 16e2 2f2 4g1 16g1 4e2 4d2 16g1 4e2 4d2 16g1 4f2 4e2 16d2 2c2"
  },
  {
    "title": "I Swear",
    "tempo": 125,
    "notes": "2- 4-\n4b1 4a1 16#f1 4e1 4- 8- 8#f1 8#g1 4a1 8a1 8a1 4a1 8#c1 8d1 2e1 8- 8#f1\n8#g1 2e1"
  },
  {
    "title": "James\nBond v1",
    "tempo": 80,
    "notes": "16#d1\n32f1 32f1 16f1 8f1 16#d1 16#d1 16#d1 16#d1 32#f1 32#f1 16#f1 8#f1 16f1\n16f1 16f1 16#d1 32f1 32f1 16f1 8f1 16#d1 16#d1 16#d1 16#d1 32#f1 32#f1\n16#f1 8#f1 16f1 16e1 16#d1 16#d2 2d2 16#a1 16#g1 2#a1"
  },
  {
    "title": "James Bond\nv2",
    "tempo": 140,
    "notes": "8c1 16d1\n16d1 8d1 4d1 8c1 8c1 8c1 8c1 16#d1 16#d1 8#d1 4#d1 8d1 8d1 8d1 8c1 16d1\n16d1 8d1 4d1 8c1 8c1 8c1 8c1 16#d1 16#d1 8#d1 4#d1 8d1 8#c1 8c1 8c2 2b2\n8g2 8f2 2g2"
  },
  {
    "title": "James Bond:\nTomorrow Never Dies",
    "tempo": 125,
    "notes": "8e1 16#f1\n16#f1 8#f1 4#f1 8e1 8e1 8e1 8e1 16g1 16g1 8g1 4g1 8#f1 8#f1 8#f1 8e1 16#f1\n16#f1 8#f1 4#f1 8e1 8e1 8e1 8e1 16g1 16g1 8g1 4g1 8#f1 8#f1 8#f1"
  },
  {
    "title": "Jamiroquai:\nVirtual Insanity",
    "tempo": 225,
    "notes": "8#f1\n8#d1 4- 4- 4- 4- 8f1 8d1 4- 4- 4- 4- 4#c1 4#c1 4- 4#d1 4- 4f1 4- 8#f1 4#d1\n8#d1 4- 4#d1"
  },
  {
    "title": "Jay-Z: Hard\nKnock Life",
    "tempo": 160,
    "notes": "8g1 16-\n16g1 4e1 4g1 4c1 4- 4d1 4e1 4- 8g1 16- 16g1 4e1 4g1 4b1 4- 4c2 4d2 4- 8c2\n16- 16c2 8a1 4c2 8- 4g2 4- 4e2 4g1 4- 8c2 16- 16c2 8a1 4c2 8- 4g2 4- 4e2\n4d2 4- 8g2 16- 16g2 8e2 4g2 8- 4c2"
  },
  {
    "title": "Jesus",
    "tempo": 100,
    "notes": "4f2 8d2\n2#a1 4g2 8#d2 2#a1 4#g2 8f2 8#g2 4g2 8f2 8#d2 4f2 8d2 2#a1"
  },
  {
    "title": "Jody Bernal:\nQue Si, Que No",
    "tempo": 125,
    "notes": "8e1 8g1\n4- 8e1 8g1 4- 8e1 8a1 8a1 8a1 8a1 4g1 8d1 8d1 8f1 8f1 8f1 8d1 8f1 8f1 8f1\n8d1 4a1 8a1 4g1 8e1"
  },
  {
    "title": "King\nand Queen of Hearts",
    "tempo": 80,
    "notes": "16#c2\n16d2 8e2 8a2 8.a2 16e2 4e2 2- 16#c2 16d2 8e2 8#c2 8.#c2 16#f2 4#f2 2- 16b2\n16a2 16#g2 16a2 8b2 2e2 2- 16b2 16a2 16#g2 16a2 8b2 4.a2"
  },
  {
    "title": "Knight Rider  Recommended",
    "tempo": 63,
    "notes": "16e2\n32f2 32e2 8b2 16e3 32f3 32e3 8b2 16e2 32f2 32e2 16b2 16e3 4d3 8- 4- 16e2\n32f2 32e2 8b2 16e3 32f3 32e3 8b2 16e2 32f2 32e2 16b2 16e3 4f3 4-"
  },
  {
    "title": "Kiss From\na Rose",
    "tempo": 140,
    "notes": "8d1 8e1\n4f1 8g1 4f1 4e1 4d1 4c1 2d1 8d1 8c1 2d1 8d1 8e1 4f1 8g1 4f1 4e1 4c1 4e1\n2d1"
  },
  {
    "title": "Kristers\nNummerguide Krister",
    "tempo": 180,
    "notes": "1e1 4f1\n1g1 4f1 1e1 4- 4- 1f1 4g1 1a1 4g1 1f1 4- 4- 1g1 4a1 1b1 4a1 1g1 4- 1b1\n2c2"
  },
  {
    "title": "La\nCucaracha",
    "tempo": 225,
    "notes": "4c1 4c1\n4c1 8f1 8a1 4- 4c1 4c1 4c1 8f1 8a1 4- 4f1 4f1 4e1 4e1 4d1 4d1 8c1 4- 4-\n4c1 4c1 4c1 8e1 8g1 4- 4c1 4c1 4c1 8e1 8g1 4- 4c2 4d2 4c2 4#a1 4a1 4g1\n8f1"
  },
  {
    "title": "Larry",
    "tempo": 71,
    "notes": "8f1 16f1\n8#f1 16#f1 8g1 16g1 8#g1 16#a1 8f1 8#g1 8#a1 16f1 8#g1 16#a1 8#g1 4#c2\n16a1 8#a1 16#c2 8a1 8#a1 8#c2 16a1 8#a1 16#c2 8#d2 8e2 32#d2 32d2 8#c2\n8f2 8f2 8f2 8f2 8f2 16e2 8#d2 4d2 8#a1 8e2 16f2 8e2 16f2 8#c2 8#d2 16#c2"
  },
  {
    "title": "Lazy",
    "tempo": 160,
    "notes": "8d1 8f1\n16d1 8g1 16f1 8d1 8f1 16d1 8g1 16f1 8d1 4-"
  },
  {
    "title": "Led Zeppelin:\nStairway to Heaven",
    "tempo": 63,
    "notes": "8a2 8c2\n8e2 8a2 8b2 8e2 8c2 8b2 8c3 8e2 8c2 8c3 8#f2 8d2 8a2 8#f2 8e2 8c2 8a2 4c2\n8e2 8c2 8a1 8g1 8g1 8a1 4a1"
  },
  {
    "title": "Let's Twist\nAgain",
    "tempo": 225,
    "notes": "4b1 4-\n4b1 4b1 4- 8b1 4- 4- 4b1 4a1 4b1 4a1 4g1 4e1 4- 4- 8b1 4- 4g1 4a1 4g1 4a1\n4- 4b1 4- 4b1 4b1 4- 8g1"
  },
  {
    "title": "Looney Tunes",
    "tempo": 160,
    "notes": "16f3\n16f3 8e3 8d3 8c3 4a2 8- 8c3 16f3 16f3 8e3 8d3 8#d3 4e3 8- 8e3 8e3 8c3 8d3\n8c3 16e3 16e3 8c3 8d3 8a2 8c3 8g2 8#a2 8a2 8f2"
  },
  {
    "title": "Loosing",
    "tempo": 63,
    "notes": "2- 8b2\n8#c3 8b2 8#f2 4a2 8a2 8a2 4a2 4a2 4a2 8b2 8#c3 8b2 8#f2 4a2 8a2 8a2 4a2\n4a2 8b2 8#c3 8b2 8#f2 4a2 8a2 8a2 4a2 4a2 8b2 8#c3 8b2 8#f2 4a2 4a2 8a2\n4a2 8#g2 2#g2"
  },
  {
    "title": "Lou Bega:\nMambo Nr5",
    "tempo": 140,
    "notes": "16#a1\n8#a1 16#a1 8#a1 16#a1 8c2 16c2 8#a1 16- 8#a1 4c2 8#a1 8- 16#a1 8#a1 16#a1\n8#a1 16#a1 8c2 16c2 8#a1 16- 8#a1 4c2 8#a1 8- 16#a1 8#d2 16#d2 8d2 16d2\n4c2 16#a1 16- 8#a1 4c2 8#a1 8- 16#a1 8#d2 16#d2 8d2 16d2 4c2 16#a1 16-\n8#a1 4c2 8#a1"
  },
  {
    "title": "Macarena",
    "tempo": 180,
    "notes": "4f2 8f2\n8f2 4f2 8f2 8f2 8f2 8f2 8f2 8f2 8f2 8a2 8c2 8c2 4f2 8f2 8f2 4f2 8f2 8f2\n8f2 8f2 8f2 8f2 8d2 8c2 4- 4f2 8f2 8f2 4f2 8f2 8f2 8f2 8f2 8f2 8f2 8f2\n8a2 4- 2.c3 4a2 8c3 8a2 8f2 4- 2-"
  },
  {
    "title": "Madonna:\nAmerican Pie",
    "tempo": 125,
    "notes": "2g2 4f2\n8f2 8f2 8e2 32d2 16- 32- 8c2 8d2 4- 8g2 32g2 16- 32- 32g2 16- 32- 32g2\n16- 32- 32g2 16- 32- 32g2 16- 32- 32f2 16- 32- 32f2 16- 32- 32f2 16- 32-\n32f2 16- 32- 8e2 32d2 16- 32- 8c2 8g1"
  },
  {
    "title": "Madonna:\nDon't Cry For Me Argentina",
    "tempo": 100,
    "notes": "4d2 4d2\n8d2 4d2 4#d2 8f2 4g2 1f2 8f2 4g2 4g2 8f2 4#a2 4f2 4#d2 2d2 8d2 8#d2 8f2\n4c2 2c2 8c2 8d2 8#d2 4#a1 2#a1 8#a1 8c2 8#a1 4d2 2f2 8f1 8f1 8f1 4g1 1#a1\n32#c2 4d2 4d2 8d2 2d2 8d2 8d2 4d2 8d2 4d2 4c2 8#a1 4c2 1f1"
  },
  {
    "title": "Madonna:\nMusic",
    "tempo": 180,
    "notes": "4d2 8c2\n8#a1 4c2 4#a1 8.c2 16c2 8c2 8#c2 8#a1 4g1 8g1 8#a1 4d2 8c2 8#a1 4c2 4#a1\n2- 8g1 8#a1 4d2 8#a1 8c2 4- 8a1 8c2 8d2 8c2 8#a1 4g1 8g1 8#a1 4d2 4#a1\n4c2 4#a1 4f2 4e2 4- 8#a1 4d2 4#a1 4c2 4#a1 4f2 4e2"
  },
  {
    "title": "Magnum",
    "tempo": 225,
    "notes": "8e1 8f1\n4g1 4- 8g1 2- 4- 4g1 4e1 4a1 8g1 8c1 2- 4- 4e1 4e1 8d1 4c1 8d1 8e1 2- 4-\n4c1 4e1 4g1 4a1 4g1 8c1 2- 4e1 4e1 8d1 4c1 8d1 8c1 8c1"
  },
  {
    "title": "Marilyn Manson:\nSweet Dreams",
    "tempo": 225,
    "notes": "4c2 4c2\n4g2 4c2 4#g2 4c2 4g2 4c2 4#g1 4#g1 4#d2 4f2 4g1 4g1 4d2 4#d2 4- 4c2 4c2\n4g2 4c2 4#g2 4c2 4g2 4c2 4#g1 4#g1 4#d2 4f2 4g1 4g1 4d2 4#d2"
  },
  {
    "title": "Marlboro\nCountry",
    "tempo": 225,
    "notes": "8e1 8g1\n4- 8a1 8g1 8f1 8c2 2- 8e1 8g1 4- 8a1 8g1 8f1 8d1 2- 8c1 8d1 8e1 8g1 4-\n8a1 8g1 8e1 8c1 8c2 2- 8c2 8c2 8a1 8g1 8a1 8c1 8d1 8c1"
  },
  {
    "title": "Married with\nChildren",
    "tempo": 225,
    "notes": "8d1 8a1\n8#a1 8b1 8#c1 8a1 8#a1 8b1 2- 4d1 4#c1 4d1 4e1 4#f1 4a1 8g1 8d2 8#d2 8e2"
  },
  {
    "title": "MASH  Recommended",
    "tempo": 80,
    "notes": "8c2 8f2\n8#g2 2g2 8f2 8c2 8f2 8#g2 4g2 4#d2 4#c2 8c2 4#c2 4c2 4#c2 4c2 2#a1 4c2\n8#a1 4c2 4#a1 4c2 4#a1 2#g1 8c2 4#a1 8#g1 4#a1 4#g1 4#a1 4#g1 2g1 4#g1\n2#g1 2#g1 2#a1 8#a1 8#d1 8g1 8#a1 8#d1 8g1 8#a1 8#d1 4a1 4a1 2a1 4f2 8#d2\n4f2"
  },
  {
    "title": "Match of The Day:",
    "tempo": 100,
    "notes": "8c1 8f1 8a1 8.c2 16a1 8a1 8a1 8a1 4a1 8#a1 8.c2 16a1 8g1 8a1 8#a1 8c1 8e1 8g1 8.#a1 16g1 8g1 8g1 8g1 4g1 8a1 8.#a1 16g1 8f1 8g1 8a1 8c1 8f1 8a1 8.c2 16a1 8a1 8a1 8a1 4a1 8#a1 8.c2 16a1 8#a1 8c2 4d2 8d2 8e2 8f2 16f2 8e2 16e2 8d2 8f2 8c2 8c2 8d2 8c2 16#a1 8a1 16a1 8g1 4f1"
  },
  {
    "title": "Mauro Picotto:\nKomodo",
    "tempo": 160,
    "notes": "8g1 4-\n8f1 8g1 4- 8f1 8g1 8f1 8g1 4- 8f1 8g1 8d1 8#d1 4- 8d1 8#d1 4- 8d1 8#d1\n8d1 8#d1 4- 8d1 8#d1 8f1 8g1 4- 8f1 8g1 4- 8f1 8g1 8f1 8g1 4- 8f1 8g1 8a1\n8#a1 16- 8#a1 16- 8a1 8#a1 16- 8#a1 16- 8c2 8d2"
  },
  {
    "title": "Metallica:\nEnter Sandman v1",
    "tempo": 112,
    "notes": "4e1 8e1\n8e2 8g2 8#a1 4a1 8e2 4e1 8e1 8e2 8g2 8#a1 4a1 8e2 4e1"
  },
  {
    "title": "Metallica:\nEnter Sandman v2",
    "tempo": 225,
    "notes": "8d1 4d2\n4f2 4#g1 8g1 4d2 8d1 4d2 4f2 4#g1 8g1 4d2 8d1 4d2 4f2 4#g1 8g1 4d1 8f1\n4d1 4e1 4d1 4e1 4f1 4e1 8d1"
  },
  {
    "title": "Metallica:\nHarvester of Sorrow",
    "tempo": 150,
    "notes": "16g1\n16#f1 16e1 16b1 16#a1 16#g1 16g1 16f1 4e1 4- 8e1 8b1 8f2 8e2 16e1 16b1\n8g2 8f2 8e2 8e1 8b1 8f2 8d2 16g1 16a1 8d2 8f1 8d2"
  },
  {
    "title": "Michael Jackson:\nBeat it  Recommended",
    "tempo": 225,
    "notes": "8e1 4g1\n4b1 4g2 4e2 4- 4e2 8#f2 4e2 4d2 4- 8d2 4- 8e1 4g1 4b1 4g2 4e2 4- 4e2 8#f2\n4e2 4d2"
  },
  {
    "title": "Michael Jackson: Smooth criminal",
    "tempo": 125,
    "notes": "8a1 16a1 16a1 16g1 16a1 8b1 8b1 8- 16a1 16b1 8c2 8c2 8- 16b1 16c2 8b1 4g1 8a1 8- 8a1 16a1 16a1 16g1 16a1 8b1 8b1 8- 16a1 16b1 8c2 8c2 8- 16b1 16c2 8b1 4g1"
  },
  {
    "title": "Minuet",
    "tempo": 125,
    "notes": "4d2 8g1\n8a1 8b1 8c2 4d2 4g1 4g1 4e2 8c2 8d2 8e2 8f2 4g2 4g1 4g1 4c2 8d2 8c2 8b1\n8a1 4b1 8c2 8b1 8a1 8g1 4#f1 8g1 8a1 8b1 8g1 4b1 4a1"
  },
  {
    "title": "Mission Impossible",
    "tempo": 100,
    "notes": "16g2\n8- 16g2 8- 16f2 16- 16#f2 16- 16g2 8- 16g2 8- 16#a2 16- 16c3 16- 16g2 8-\n16g2 8- 16f2 16- 16#f2 16- 16g2 8- 16g2 8- 16#a2 16- 16c3 16- 16#a2 16g2\n2d2 32- 16#a2 16g2 2#c2 32- 16#a2 16g2 2c2 16- 16#a1 16c2"
  },
  {
    "title": "Monty Python\nv1",
    "tempo": 140,
    "notes": "8- 8c3\n8a2 8- 8a2 8a2 8#g2 8a2 8f3 8- 8c3 8c3 8- 8a2 8#a2 8- 8#a2 8#a2 8- 8c3\n2d3 8- 8#a2 8g2 8- 8g2 8g2 8#f2 8g2 8e3 8- 8d3 8d3 8- 8#a2 8a2 8- 8a2 8a2\n8- 8#a2 2c3"
  },
  {
    "title": "Monty Python\nv2",
    "tempo": 160,
    "notes": "4f3 8e3\n4d3 8#c3 4c3 8b2 4#a2 8a2 8g2 8a2 8#a2 4a2 8g2 2c3 8-"
  },
  {
    "title": "Mousse T:\nHorny 99",
    "tempo": 62,
    "notes": "16c2\n16#d2 16f2 16#f2 16f2 16#d2 16f2 16#f2 16f2 16#d2 16c2 16#d2 16#d2 16#d2\n4c2 8c2 16f2 4#d2 16f2 16#f2 16f2 16#f2 16#d2 2c2 8c2 16f2 8#d2 16#d2 16f2\n16#f2 16f2 16#f2 16#d2 2c2 8c2 16f2 4#d2 16f2 16#f2 16f2 16#f2 16#d2 2c2\n8c2 16f2 8#d2 16#d2 16f2 16#f2 16f2"
  },
  {
    "title": "Mozart",
    "tempo": 63,
    "notes": "16#f1\n16e1 16#d1 16e1 4g1 16a1 16g1 16#f1 16g1 4b1 16c2 16b1 16#a1 16b1 16#f2\n16e2 16#d2 16e2 16#f2 16e2 16#d2 16e2 4g2 8e2 8g2 32d2 32e2 16#f2 8e2 8d2\n8e2 32d2 32e2 16#f2 8e2 8d2 8e2 32d2 32e2 16#f2 8e2 8d2 8#c2 4b1"
  },
  {
    "title": "Mr.President:\nCoco Jamboo",
    "tempo": 225,
    "notes": "8g1 8c2\n8g2 4g1 8c2 8g2 4#d2 8d2 8c2 8#g1 8c2 8#d2 4#g1 8#a1 8f2 4#d2 8d2 8c2 8g1\n8c2 8g2 4g1 8c2 8g2 4#d2 8d2 8c2 8c2 8d2 8#d2 4c2 8f2"
  },
  {
    "title": "Munsters",
    "tempo": 160,
    "notes": "4d2 8f2\n8d2 8#g2 8a2 4d3 8#a2 8a2 2g2 8f2 8g2 4a2 8a1 8#d1 8a1 8b1 4#c2 8d2 4-\n4c2 4c3 4c3 2c3 8#a2 8a2 8#a2 8g2 8a2 4f2 4- 4g2 4g2 2g2 8f2 8e2 8f2 8d2\n8e2 2#c2 4-"
  },
  {
    "title": "Muppet Show  Recommended",
    "tempo": 225,
    "notes": "4c3 4c3\n4a2 4b2 8a2 4b2 4g2 4- 4c3 4c3 4a2 8b2 8a2 8- 4g2 4- 4e2 4e2 4g2 4f2 8e2\n4f2 8c3 8c2 8d2 4e2 8e2 8e2 8- 8e2 4g2"
  },
  {
    "title": "Nacht",
    "tempo": 125,
    "notes": "2#g1\n8#d1 2#g1 8#d1 8#g1 8#d1 8#g1 8c2 2#d2 2#c2 8#a1 2#c2 8#a1 8#c2 8#a1 8g1\n8#a1 2#d1 4#g1 2#g1 8c2 8#a1 8#g1 32#a1 32#g1 32#a1 32#g1 8g1 2g1 8#a1\n8#c2 8g1 8#a1 8#g1 2#g1 8c2 8#a1 8#g1 32#a1 32#g1 32#a1 32#g1 8g1 2g1 8#a1\n8#c2 8g1 8#g1 8#g1 16#g1"
  },
  {
    "title": "NBA",
    "tempo": 225,
    "notes": "4f1 4-\n4c1 4- 4d1 4- 4e1 4- 4f1 4- 4c1 4- 4d1 4- 4e1 4- 4f1 4- 4c1 4- 4d1 4- 4e1\n4- 8#f1 4- 4- 4g1 4c2 4e2 4g2 4e2 8g2 4- 4#g1 4#c2 4f2 4#g2 4f2 8#g2"
  },
  {
    "title": "Nirvana:\nCome as You Are",
    "tempo": 225,
    "notes": "8c1 8c1\n8#c1 8d1 4- 4- 8f1 8d1 8f1 8d1 8d1 8#c1 8c1 8g1 8c1 8c1 4- 4- 8g1 8c1 8#c1\n8d1 4- 4- 8f1 8d1 8f1 8d1 8d1 8#c1 8c1 8g1 8c1 8c1 4- 4- 8g1"
  },
  {
    "title": "N Sync: I\nDrive Myself Crazy",
    "tempo": 90,
    "notes": "8c2 8d2\n8f1 8g1 2g1 8f1 4c2 16#a1 8c2 2d2 8c2 8d2 4f1 16#a1 4#a1 8g1 2f1 8c2 8d2\n8g1 8#a1 2#a1 8f1 4c2 16#a1 16c2 16d2 2d2 8c2 8d2 8g1 8#a1 4#a1 8g1 2f1\n8f1 4#d1 8#a1 2#a1 8#d1 4f1 8c2 2d2 4#a1 8a1 2#a1 8#a1 8a1 8a1 8#a1"
  },
  {
    "title": "Oh Come All Ye Faithful:",
    "tempo": 160,
    "notes": "4g1 2g1 4d1 4g1 2a1 2d1 4b1 4a1 4b1 4c2 2b1 4a1 4g1 2g1 4#f1 4e1 4#f1 4g1 4a1 4b1 2#f1 4.e1 8d1 2.d1"
  },
  {
    "title": "Oh Little Town Of Bethlehem:",
    "tempo": 160,
    "notes": "4c1 4f1 4f1 4f1 4g1 8a1 8g1 8a1 8#a1 4c2 4a1 4#a1 8a1 8f1 4g1 4g1 2.f1 4c1 4f1 4f1 4f1 4g1 8a1 8g1 8a1 8#a1 4c2 4a1 4#a1 8a1 8f1 4g1 4g1 2.f1"
  },
  {
    "title": "Only\nYou",
    "tempo": 62,
    "notes": "4a1 4#a1\n2g2 4#a1 2#d2 8g2 2f2 16d2 2b1 8f2 4g2 8f2 16g2 8f2 2#d2 4g1 2c2 16#d2\n2#c2 8#a1 2g1 4#g1 4#a1 2c2 8#g1 4c2 4#d2 2d2 4g2 4#a2 4g2 8g2 2f2 8g2\n2#d2 8#d2 2f2 8#d2 2#d2 2c2 8b1 4c2 8g2 8f2 8g2 2f2 8g2 4#a2 16g2 8f2"
  },
  {
    "title": "Open Up",
    "tempo": 80,
    "notes": "16e1\n8g1 8a1 8b1 4b1 16b1 16b1 8b1 8a1 8g1 4e1 16e1 8g1 8e1 8b1 8a1 4a1 16a1\n16a1 8a1 8g1 8a1 4b1 16e2 16e2 8e2 8e2 8d2 4e2 16e2 16d2 8e2 8d2 8a1 4b1\n16b1 16b1 8b1 8c2 8b1 4b1 8b1 8#d2 8e2 2#f2 4g2 16e2 8e2 2g2 4e2"
  },
  {
    "title": "Outkast:\nMs. Jackson",
    "tempo": 90,
    "notes": "16c2\n16b1 16a1 8b1 8.c2 8- 16- 8e2 8e2 8e2 4.g2 4- 8a1 8e2 8d2 8e2 8d2 16e2\n8d2 16e2 16a1 16- 8g1 8e2 8d2 8e2 8d2 16e2 8d2 16e2 8a1"
  },
  {
    "title": "Oxygene",
    "tempo": 100,
    "notes": "8#g1\n4b1 4e2 4#c2 8b1 4#c2 1#g2 4#g2 8e2 4#d2 1b2 8a2 4#g2 1e2 8#g1 4b1 4e2\n4#c2 8b1 4#c2 1#g2 4#g2 8e2 4#d2 1b2 8a2 4#g2 1e2 8b2 4#c2 2e2 8#g2 4a2\n2#c2 8#f2 4#c2 1#g2 8b2 4#c2 2e2 8#g2 4a2 2#c2 8#f2 4#c2 1#g2 8#g1 4b1\n4e2 4#c2"
  },
  {
    "title": "Panathinakos\nAnthem",
    "tempo": 150,
    "notes": "8a2 8c3\n8a2 4a2 8- 8a2 8c3 16- 16e3 8d3 8c3 4a2 8- 8c3 8d3 16- 16g2 8#f2 8g2 8d3\n8- 8d3 8- 8d3 8- 4#c3 8e3 8- 4d3 8-"
  },
  {
    "title": "Parla et\nPardoux: Liberte",
    "tempo": 180,
    "notes": "8a2 8c3\n8a2 4a2 8- 8a2 8c3 16- 16e3 8d3 8c3 4a2 8- 8c3 8d3 16- 16g2 8#f2 8g2 8d3\n8- 8d3 8- 8d3 8- 4#c3 8e3 8- 4d3 8-"
  },
  {
    "title": "Paul Johnson:\nGet Get Down",
    "tempo": 125,
    "notes": "8.f2\n8c3 8c3 16c3 4f2 8c3 8c3 8.f2 8c3 8c3 16c3 4f2 8c3 8c3 8.f2 8c3 8c3 16c3\n4f2 8c3 8c3 8.f2 8c3 8c3 16c3  4f2 8c3 8c3 4c3 4#a2 4#g2 4g2 4c3 4#a2\n4#g2 4g2"
  },
  {
    "title": "Paul McCartney:\nLive And Let Die",
    "tempo": 225,
    "notes": "4a1 4b1\n8c2 2- 4e1 4#f1 8g1 2- 4d2 4c2 8a1 4a1 4b1 8c2 2- 4e1 4#f1 8g1 2- 4d2 4-\n8c2"
  },
  {
    "title": "Paul Van Dyke: We're Alive",
    "tempo": 180,
    "notes": "16b1 16- 16#f2 16- 2#f2 32- 4e2 4#d2 16#c2 16- 2#c2 4b1 4#a1 4#g1 16- 4#d2 4b1 4b1 4#d2 4#c2 16b1 16- 16#f2 16- 2#f2 32- 4e2 4#d2 16#c2 16- 2#c2 4b1 4#a1 16#g1 16- 4#g1 8-"
  },
  {
    "title": "Peanuts",
    "tempo": 160,
    "notes": "4f2 8g2\n4a2 8a2 8g2 4f2 2g2 4f2 4- 4f2 8g2 4a2 1a2 2g2 4f2 8g2 4a2 8a2 8g2 4f2\n2g2 2f2 2f2 8g2 1g2"
  },
  {
    "title": "Phantom Of\nThe Opera",
    "tempo": 100,
    "notes": "4e1 4a1\n4e1 4g1 8f1 2f1 4d1 4g1 8d1 1e1 4e1 4a1 4e1 4g1 8f1 2f1 4d1 4g1 8d1 1e1\n4e1 4a1 4c2 4e2 8d2 2d2 4d2 4g2 8d2 1e2 4e2 1a2 8g2 8f2 8e2 8d2 8c2 8b1\n8a1 1#g1 4f1 4f1 8e1 1e1"
  },
  {
    "title": "Piccolo",
    "tempo": 225,
    "notes": "4d3 4g3\n4g2 4g3 8d3 8e3 8d3 8b2 4g2 4d2 8g2 8a2 8b2 8c3 4d3 4g3 1d3 4d3 4g3 4g2\n4g3 8d3 8e3 8b2 4g2 4d2 8f2 8g2 8a2 8b2 4c3 4f3 1c3"
  },
  {
    "title": "Pilipom",
    "tempo": 160,
    "notes": "16e2\n16- 16e2 16- 16g2 16- 16g2 16- 16b1 16#c2 16d2 16- 16g2 16- 16g2 16- 16e2\n16- 16e2 16- 16g2 16- 16g2 16- 16b2 16g2 16b2 16e3 8#d3 8-"
  },
  {
    "title": "Pink Panter",
    "tempo": 100,
    "notes": "8#g1\n2a1 8b1 2c2 8#g1 8a1 8b1 8c2 8f2 8e2 8a1 8c2 8e2 2#d2 16d2 16c2 16a1 8g1\n1a1 8#g1 2a1 8b1 2c2 8#g1 8a1 8b1 8c2 8f2 8e2 8c2 8e2 8a2 1#g2 8#g1 2a1\n8b1 2c2 16#g1 8a1 8b1 8c2 8f2 8e2 8a1 8c2 8e2 2#d2 8d2 16c2 16a1"
  },
  {
    "title": "Popcorn",
    "tempo": 70,
    "notes": "16g2\n16f2 16g2 16d2 16#a1 16d2 8g1 16g2 16f2 16g2 16d2 16#a1 16d2 8g1 16g2 16a2\n16#a2 32g2 16#a2 32g2 16#a2 16a2 32f2 16a2 32f2 16a2 16g2 16f2 16d2 16f2\n8g2"
  },
  {
    "title": "Proasteia\nStereo Nova",
    "tempo": 112,
    "notes": "8a2 8e3\n16a2 8e3 16a2 8e3 16a2 8e3 16a2 8e3 8f2 8c3 16f2 8c3 16f2 8d3 16g2 8d3\n16g2 8d3 2-"
  },
  {
    "title": "Pulp Fiction",
    "tempo": 113,
    "notes": "16f1\n16f1 16f1 16f1 16f1 16f1 16f1 16f1 16a1 16a1 16a1 16a1 16#a1 16#a1 16#a1\n16#a1 16c2 16c2 16c2 16c2 16c2 16c2 16c2 16f1 16e2 16e2 16e2 16e2 16#c2\n16#c2 16#c2 16#c2 16c2 16c2 16c2 16c2 16c2 16c2 16c2 16c2 16c2 16c2 16c2\n16c2 16c2 16c2 16c2 16c2 16c2 16c2"
  },
  {
    "title": "Queen:\nWe Are The Champions",
    "tempo": 63,
    "notes": "2d2 8#c2\n8d2 4#c2 4a1 8#f1 4b1 2#f1 8a1 2d2 8e2 8#f2 4a2 4#f2 16b1 2b1 4b1 4a1 8b1\n4a1 4g1 4g2 4#f2 8g2 4#f2 4e2 4#f2 4d2 8g2 4#f2 4d2 8g2 4f2 4d2 8g2 4f2\n2d2 8c2 8a1"
  },
  {
    "title": "Radio\nActivity",
    "tempo": 200,
    "notes": "4e1 4a1\n4- 4a1 4e1 4a1 4e1 4- 4e1 4c2 4- 4b1 4a1 2- 4c1 4f1 4- 4f1 4c1 4f1 4c1\n4- 4c1 4a1 4- 4g1 4f1"
  },
  {
    "title": "Reality",
    "tempo": 80,
    "notes": "2#f2\n8a1 8g2 4#f2 16e2 16d2 2#f2 8a1 8g2 4#f2 16e2 16d2 2#f2 2#c2 16b2 2#f2\n8b1 8#c2 8d2 8#f2 8e2 16e2 8#d2 2e2 8e2 8b2 8a2 16a2 16#g2 2a2 8d2 8a2\n8g2 16g2 16#f2 2g2 16#f2 2e2 2#f2 8a1 8g2 4#f2 16e2 16d2 2#f2 8a1 8g2 4#f2\n16e2 16d2"
  },
  {
    "title": "Reedpipe",
    "tempo": 70,
    "notes": "16#g1\n16g1 16#g1 16g1 8#g1 8g1 8#a1 32#g1 32c2 32#d2 32#g2 4c2 16#c2 16c2 16#c2\n16c2 16#a2 16#g2 16#d2 16c2 8#g1 32#g2 2g2 16f2 16f1 16f1 32f1 32g1 8f1\n8#d1 16f2 16f1 16f1 32f1 32g1 8f1 8#d1 16#g2 16#g1 16#g1 16#g1 32#g1 16g1\n16#a1 16#g1 32#g1 16g1 16f1 16#d1 8#c2"
  },
  {
    "title": "Rick Garcia:\nAnother Party",
    "tempo": 125,
    "notes": "8e1 16-\n16e1 8g1 8b1 8a1 8g1 8a1 8g1 8d1 16- 16d1 8#f1 8a1 8g1 8#f1 8e1 8- 8e1\n16- 16e1 8g1 8b1 8a1 8g1 8a1 8g1 8d1 16- 16d1 8#f1 8a1 8g1 8b1 8e2"
  },
  {
    "title": "Ricky Martin:\nLivin La Vida Loca",
    "tempo": 160,
    "notes": "16a1\n8- 16- 4a1 16- 32- 8f1 8g1 16#a1 8- 16- 16#a1 8- 16- 4a1 4- 8- 16a1 8-\n16- 4a1 16- 32- 8f1 8e1 8g1 8- 8g1 8- 4f1 4- 8- 16a1 8- 16- 4a1 8- 8f1\n8g1 16#a1 8- 16- 16#a1 8- 16- 4a1 4- 8- 16a1 8- 16- 4a1 8- 8f1 8e1 16g1\n8- 16- 8g1 8- 4f1 8-"
  },
  {
    "title": "Rikasmiesjos",
    "tempo": 160,
    "notes": "8g1 8f1\n8g1 8f1 4e1 4c1 4- 8e1 8f1 8g1 8f1 8g1 8f1 8e1 8f1 8g1 8a1 8#a1 8a1 8#a1\n8a1 4g1 4- 4#g1 4g1 4#f1 4f1 8#d1 8d1 8c1 8d1 4#d1 4- 8#d1 8d1 8c1 8d1\n4#d1 4c1 4g1 4-"
  },
  {
    "title": "Robert Miles:\nChildren",
    "tempo": 112,
    "notes": "8- 4f3\n1- 4#g3 8g3 4#d3 1- 4#g3 8g3 4c3 1- 4#g3 8g3 4#g2 1- 16f2 16g2 16#g2 16c3\n4f3 1- 4#g3 8g3 4#d3 1- 16#c3 16c3 4#c3 8c3 4#g2 2- 4g2 4#g2 8c3 4f2"
  },
  {
    "title": "Rule B.",
    "tempo": 100,
    "notes": "4e2 8e2\n8f2 4f2 8e2 8f2 16e2 8d2 16c2 2b1 4g2 4f2 16e2 16c2 16f2 16d2 8g2 8f2 4e2\n8d2 16c2 4c2"
  },
  {
    "title": "Saints",
    "tempo": 125,
    "notes": "8c1 8e1\n8f1 2g1 8c1 8e1 8f1 2g1 8c1 8e1 8f1 4g1 4e1 4c1 4e1 2d1 8- 8e1 8d1 4c1\n8c1 4e1 4g1 8g1 2f1 8a1 8a1 4g1 4e1 4c1 4d1 2c1"
  },
  {
    "title": "Sash: Equador",
    "tempo": 140,
    "notes": "8g2 8d2\n8#a2 8a2 8c3 8a2 8f2 8g2 8d2 8#a2 8a2 8c3 8a2 8f2 8#a2 8f2 8d3 8c3 8d3\n8c3 8a2 8#a2 8g2 8#a2 8a2 8#a2 8a2 8f2"
  },
  {
    "title": "Scooby Doo  Recommended",
    "tempo": 160,
    "notes": "8e2 8e2\n8d2 8d2 2c2 8d2 4e2 2a1 8a1 4b1 4g1 4e2 8d2 4c2 8d2 2e2 4- 8e2 8e2 8d2\n8d2 2c2 8d2 4f2 2a1 8a1 4b1 4g1 4e2 8d2 2c2"
  },
  {
    "title": "Scoop: Drop\nIt v1",
    "tempo": 140,
    "notes": "8c2 16b1\n8- 16g1 8- 8c2 8b1 16e1 8- 16- 8c2 16b1 8- 16a1 8- 8c2 8b1 16a1 8- 16-\n8c2 16b1 8- 16g1 8- 8c2 8b1 16e1 8- 16- 8c2 16b1 8- 16a1 8- 8c2 8b1 16a1"
  },
  {
    "title": "Scoop: Drop\nIt v2",
    "tempo": 140,
    "notes": "16g1\n16a1 16g1 8c2 8- 8c2 16a1 8b1 16- 8b1 16- 16g1 16a1 16g1 8a1 8- 8a1 16c2\n8a1 16- 8a1 16- 16g1 16a1 16g1 8c2 8- 8c2 16a1 8b1 16- 8b1 16- 16g1 16a1\n16g1 8a1 8- 8a1 16c2 8a1 16- 8a1"
  },
  {
    "title": "Shoop Shoop Song",
    "tempo": 125,
    "notes": "4g1 4g1\n4g1 4g1 4f1 8f1 8#d1 8f1 8#d1 4c1 4g1 8g1 8g1 4g1 8g1 8g1 4b1 8g1 4g1 8e1\n8d1 8f1 4e1 4d1"
  },
  {
    "title": "Shakira: Whenever Wherever",
    "tempo": 112,
    "notes": "16#g1 4.#g1 16#f1 4.- 16a1 4.a1 16#g1 4.- 16#g1 4.#g1 4e1 4#f1 4#f1 4#f1 4e1 4#c1 16#c1 4.e1 4e1 4#c1 4#c1 4e1 4#c1 4- 16b1 4.b1 4b1 4b1 4a1 4#g1 4- 16#g1 4.#g1 16#f1 4.- 16a1 4.a1 16#g1 4.- 16#g1 4.#g1 4e1 4#f1 4#f1 4#f1 4e1 4#c1 16#c1 4.e1 4e1 4#c1 4#c1 4e1 4#c1 4- 16b1 4.b1 4b1 4b1 4a1 4#g1"
  },
  {
    "title": "Silent Night:",
    "tempo": 160,
    "notes": "4.g1 8a1 4g1 2.e1 4.g1 8a1 4g1 2.e1 2d2 4d2 2.b1 2c2 4c2 2.g1"
  },
  {
    "title": "Simpsons\nv1",
    "tempo": 160,
    "notes": "4c2 4e2\n4#f2 8a2 4.g2 4e2 4c2 8a1 8#f1 8#f1 8#f1 2g1 4- 8#f1 8#f1 8#f1 8g1 4#a1\n8c2 8c2 8c2 4c2"
  },
  {
    "title": "Simpsons\nv2",
    "tempo": 160,
    "notes": "8c2 8a1\n4- 8c2 8a2 4- 8c2 8a1 8c2 8a1 8c2 8a2 4- 8- 8c2 8d2 8e2 8- 8e2 8f2 8g2\n4- 8d2 8c2 4d2 8f2 4#a2 4a2 2c3"
  },
  {
    "title": "Sisqo: Thong\nSong",
    "tempo": 125,
    "notes": "8c1 8-\n8d1 8- 4#d1 8#a1 8- 4#g1 4g1 2f1 8#g1 16#g1 16#g1 16#g1 16g1 8f1 16#d1\n16c1 8- 8g1 8- 4g1 16g1 16f1  16#d1 8g1 4- 8#d1 4g1 8#d1 8f1 2c1"
  },
  {
    "title": "Smoke on\nthe Water",
    "tempo": 112,
    "notes": "4c1 4#d1\n4.f1 4c1 4#d1 8#f1 4f1 4- 4c1 4#d1 4.f1 4#d1 4c1 2- 8- 4c1 4#d1 4.f1 4c1\n4#d1 8#f1 4f1 4- 4c1 4#d1 4.f1 4#d1 4c1 4-"
  },
  {
    "title": "Soap",
    "tempo": 125,
    "notes": "4g1 8a1\n8c2 8- 8a1 4c2 4- 8a1 8g1 8e1 8c1 4- 4g1 8a1 8c2 4- 4b1 4- 8a1 8g1 8e1\n8#c1 2- 4- 8a1 8c2 2- 4- 8a1 8g1 2- 8a1 8g1 8e1 4c1"
  },
  {
    "title": "South Park:\nUncle F**ka",
    "tempo": 160,
    "notes": "8e2 8e2\n8e2 8e2 4e2 8d2 8c2 8a1 2c2 8- 8c2 8d2 8e2 8e2 8e2 8e2 8e2 8e2 8d2 8c2\n8a1 2c2 8- 8c2 8c2 8d2 8d2 8d2 8b1 8c2 8d2 8e2 16- 16e2 16f2 16f2 8e2 8d2\n8c2 8b1 8c2 8d2"
  },
  {
    "title": "Spice Girls:\nViva Forever",
    "tempo": 80,
    "notes": "8b1 8b1\n8b1 16b1 4a1 2b1 8b1 8b1 8d2 16d2 2b1 16d2 16d2 16d2 8c2 8c2 16c2 16b1\n16b1 16b1 8a1 8a1 16g1 8b1 8b1 8b1 16c2 2b1 2e2 2#f2 4g2 2b2 2#f2 2g2 2a2\n4b2 2b2 4a2 2g2 2e2 8#f2 16g2 4#f2 2d2 8e2 16#f2 4e2 2c2 8d2 16c2"
  },
  {
    "title": "Spice Girls:\nWanna Be",
    "tempo": 125,
    "notes": "16g1\n16g1 16g1 16g1 8g1 8a1 8g1 8e1 8- 16c1 16d1 16c1 8d1 8d1 8c1 4e1 4- 8g1\n8g1 8g1 8a1 8g1 8e1 8- 4c2 8c2 8b1 8g1 8a1 16b1 16a1 4g1"
  },
  {
    "title": "Stars On\nStudio54",
    "tempo": 125,
    "notes": "4f2 4e2\n4f2 4g2 4f2 4c2 2f2 8#d2 8#d2 4#d2 4d2 4d2 8c2 1c2 4f2 4e2 4f2 4g2 4f2\n4c2 2f2 8#d2 8#d2 4#d2 8d2 8d2 8d2 4c2 1c2 8c2 8c2 4c2 4d2 1#d2 8d2 8#d2\n8g2 4f2 2f2 4g2 4a2 4g2 4f2 4g2 2f2 2d1 4f2 8e2 2d2 4d2"
  },
  {
    "title": "StarTrek",
    "tempo": 63,
    "notes": "8f1 16#a1\n4#d2 8d2 16#a1 16g1 16c2 2f2"
  },
  {
    "title": "Starwars",
    "tempo": 100,
    "notes": "8#c1\n8#c1 16#c1 2#f1 2#c2 8b1 16#a1 8#g1 2#f2 4#c2 8b1 16#a1 8#g1 2#f2 4#c2\n8b1 16#a1 8b1 2#g1 8#c1 8#c1 16#c1 2#f1 2#c2 8b1 16#a1 8#g1 2#f2 4#c2 8b1\n16#a1 8#g1 2#f2 4#c2 8b1 16#a1 8b1 2#g1 4#c1 16#c1 2#d1 8#c2 8b1 8#a1 8#g1\n8#f1 16#f1 8#g1 16#a1 4#g1"
  },
  {
    "title": "Starwars:\nImperial March",
    "tempo": 100,
    "notes": "4e1 4e1\n4e1 8c1 16- 16g1 4e1 8c1 16- 16g1 4e1 4- 4b1 4b1 4b1 8c2 16- 16g1 4#d1\n8c1 16- 16g1 4e1 8-"
  },
  {
    "title": "Storm: Time\nto Burn",
    "tempo": 180,
    "notes": "4f1 16-\n4f1 16- 4a1 16- 8a1 32- 4d2 16- 8d1 32- 8d2 32- 8d1 32- 8d2 32- 8d1 32-\n8d2 32- 8d1 32- 4f1 16- 4f1 16- 4a1 16- 8a1 32- 4d2 16- 8d1 32- 8d2 32-\n8d1 32- 8d2 32- 8d1 32- 8d2 32- 8d1 32-"
  },
  {
    "title": "Superman",
    "tempo": 180,
    "notes": "8g1 8g1\n8g1 4c2 8c2 2g2 8- 8g2 8.a2 16g2 8f2 1g2 8- 8g1 8g1 8g1 4c2 8c2 2g2 8-\n8g2 8.a2 16g2 8f2 8a2 2.g2 4- 8c2 8c2 8c2 2.b2 4.g2 8c2 8c2 8c2 2.b2 4.g2\n8c2 8c2 8c2 8b2 8a2 8b2 2c3 8c2 8c2 8c2 8c2 8c2 2c2"
  },
  {
    "title": "Surfaris:\nWipeout",
    "tempo": 160,
    "notes": "8g1 8#a1\n8b1 8c2 8c2 8c2 8#a1 8g1 8g1 8#a1 8b1 8c2 8c2 8c2 8#a1 8g1 8g1 8#d2 8e2\n8f2 8f2 8f2 8#d2 8c2 8c2 8#d2 8e2 8f2 8f2 8f2 8#d2 8c2 8c2 8#a1 8b1 8c2\n8c2"
  },
  {
    "title": "Susanna",
    "tempo": 100,
    "notes": "16f2\n16g2 8a2 8c3 8c3 16d3 8c3 8a2 8f2 16g2 8a2 8a2 8g2 8f2 4g2 8- 16f2 16g2\n8a2 8c3 8c3 16d3 8c3 8a2 8f2 16g2 8a2 8a2 8g2 8g2 4f2"
  },
  {
    "title": "Tears\nIn Heaven",
    "tempo": 100,
    "notes": "4- 8b1\n8g1 4d2 8d2 8b1 16a1 4g1 2- 4- 8c2 8c2 8b1 8a1 8g1 4b1 2a1"
  },
  {
    "title": "Teletubbies Say Eh Oh:",
    "tempo": 125,
    "notes": "16.g1 8- 16g1 8e1 4.g1 8- 4a1 2.f1 16.g1 8- 16g1 8e1 4.g1 8- 2.d1 16.g1 8- 16g1 8e1 4.g1 8- 4a1 2.f1 2g1 2b1 2.c2"
  },
  {
    "title": "The Color\nOf The Night",
    "tempo": 80,
    "notes": "2#g2\n8c2 2#c2 4g2 8#g2 4#a2 8c2 8#a1 2#g1 2f2 8#g1 2g1 8f2 16e2 8f2 2g2 2#g2\n8c2 2#c2 4g2 8#g2 4#a2 8c2 8#a1 2#g1 2f2 8#g1 2g1 8f2 8e2 8f2 2g2 8#a1\n8c2 8c2 4c2 4#c2 2#a2 8#a1 8#a2 8#a2 4#a2 4c2 4#a2 8#g2 4g2 2#g2 8c2 8c2\n4c2"
  },
  {
    "title": "The Sweeny",
    "tempo": 125,
    "notes": "16a1\n8c2 4a1 4- 16a1 8e2 2d2 4- 8- 4c2 8c2 16a1 8c2 4e2 8d2 16a1 4c2 8d2 16a1\n8c2 4a1 4- 16a1 8e2 2d2 4- 8- 4e2 8e2 16#d2 8e2 4f2 4c2 4b2 4a2 2f2 4c2\n8g2 1f2"
  },
  {
    "title": "Those Were the Days...:",
    "tempo": 200,
    "notes": "2c2 2c2 2b1 2b1 4a1 2a1 4a1 4a1 4g1 2g1 4f1 2f1 4d1 4e1 4f1 2.g1 4a1 4.b1 8a1 8g1 4.f1 1e1 4- 4c1 4d1 4e1 2g1 4f1 2f1 4f1 4g1 4a1 2d2 4c2 2c2 4a1 4b1 4c2 2.e2 4d2 4c2 4b1 4a1 4#g1 1a1"
  },
  {
    "title": "Thunderbirds",
    "tempo": 125,
    "notes": "8#g1\n16f1 16#g1 4#a1 8- 16#d1 16f1 8#g1 8#a1 8#d2 16f2 16c2 8#d2 8f2 2#a1 8#g1\n16f1 16#g1 4#a1 8- 16#d1 16f1 8#g1 8#a1 8#d2 16f2 16c2 8#d2 8f2 2g2 8g2\n16a2 16e2 4g2 8- 16e2 16d2 8c2 8b1 8a1 16b1 8c2 8e2 2d2"
  },
  {
    "title": "Tight Fit: Lion Sleeps Tonight:",
    "tempo": 140,
    "notes": "4d2 4#c2 8- 8a1 8b1 8a1 8b1 8a1 4#c2 8b1 4a1 8#c2 8e2 4#f2 8- 8a1 8b1 8a1 8b1 8a1 4#c2 8b1 4a1 8- 4d2 4#f2 8- 8a1 8b1 8a1 8b1 8a1 8b1 8a1 4#c2 8- 8a1 8a1 8a1 8a1 8a1 8- 8a1 8a1 8a1 4a1 4#f1"
  },
  {
    "title": "Time to Say\nGoodbye",
    "tempo": 80,
    "notes": "8c1 16d1\n16e1 16d1 16e1 16#f1 16g1 16#f1 16g1 16a1 16g1 16e1 16a1 16b1 16c2 4b1"
  },
  {
    "title": "TLC: No Scrubs",
    "tempo": 180,
    "notes": "8#g1\n8#a1 8b1 2e2 16- 8#g1 8#g1 8b1 2#d2 16- 8#d1 8g1 8#a1 2#c2 16- 8#g1 8#a1\n8b1 2#d2 16- 8#g1 8#a1 8b1 2e2 16- 8#g1 8#g1 8b1 2#d2 16- 8#d1 8g1 8#a1\n4.#c2 16- 8#f2 8e2 8#d2 8#c2 2#d2"
  },
  {
    "title": "Tom jones\n& Mousse T: Sex Bomb",
    "tempo": 125,
    "notes": "8c2 8-\n4a1 8c2 8- 4a1 8- 4d2 8c2 4e2 16c2 16d2 4e2 4c2 8c2 8c2 8c2 8c2 8c2 8c2\n8a1 8c2 8a1 8a1 8g1 4a1 8c2 8- 4a1 8c2 8- 4a1 8- 4d2 8c2 4e2 4c2 8- 4c2\n8a1 8c2 8a1 8g1 16- 8#g1 16- 4a1"
  },
  {
    "title": "Top Of The\nWorld",
    "tempo": 125,
    "notes": "4#d1\n8c2 4#a1 4#g1 4g1 16#g1 4f1 4g1 1#d1 4c2 8#c2 4#d2 16#d2 4#d2 4c2 4#a1\n4c2 8#c2 4#a1 1c2 4#c2 4#d2 4f2 4f2 4#c2 2#a1 4#a1 4f2 2#d2 8#c2 4#d2 2c2\n8#a1 2c2 4#c2 4#c2 8c2 4#c2 4c2 4#a1 8#g1 1#d1 4#d1 4c2 4#a1 4#g1 4g1 4#g1\n4f1 8g1"
  },
  {
    "title": "Toybox: Tarzan\nAnd Jane",
    "tempo": 70,
    "notes": "16#d1\n8#c2 8#c2 16c2 16c2 8#d2 8#d2 16c2 2#a1 8#c2 8#c2 16c2 16c2 8#d2 8#d2 16c2\n2#a1 8c2 16c2 16#g1 8#c2 8#c2 8#d2 16#d2 16#a1 4c2 8#g1 8#g1 8#c2 16#c2\n16c2 8#a1 16c2 2#a1 8c2 16c2 16#g1 8#c2 8#c2 8#d2 16#d2 16#a1 4c2 16f1\n16#g1 16#g1 16#g1 16f1 8#c2 8c2"
  },
  {
    "title": "Tubular Bells:",
    "tempo": 225,
    "notes": "4c2 4f2 4c2 4g2 4c2 4#d2 4f2 4c2 4#g2 4c2 4#a2 4c2 4g2 4#g2 4c2 4g2 4c2 4f2 4c2 4g2 4c2 4#d2 4f2 4c2 4#g2 4c2 4#a2 4c2 4g2 4#g2 4c2 4g2 4c2 4f2 4c2 4g2 4c2 4#d2 4f2 4c2 4#g2 4c2 4#a2 4c2 4g2 4#g2 4c2 4g2 4c2 4f2 4c2 4g2 4c2 4#d2 4f2 4c2 4#g2 4c2 4#a2 4c2 4g2 4#g2 4c2 4g2"
  },
  {
    "title": "Venga\nBoys: Boom Boom Boom",
    "tempo": 70,
    "notes": "8#a1\n16g1 16f1 8#a1 16g1 16f1 16d2 16#d2 16d2 16#d2 16f2 16d2 8#a1 8#a1 16g1\n16f1 8#a1 16g1 4f1 8d2 8d2 8c2 4#a1 16f1 16f1 16f1 16c2 16c2 4#a1 16g1\n16g1 16g1 16#a1 16c2 8d2 8#a1 16#d1 16#d1 16#d1 16#d1 16#d1 8d1 32#a1 8d2\n8d2 8c2 4#a1 16f1 16f1 16f1"
  },
  {
    "title": "Venga Boys:\nGoing to Ibiza",
    "tempo": 112,
    "notes": "2f1 8a1\n8#a1 8c2 8f1 2#a1 16a2 16f2 16a2 16f2 16a2 16f2 16a2 16f2 2f1 8a1 8#a1\n8c2 8f1 2#a1 16a2 16f2 16a2 16f2 16a2 16f2 16a2 16f2 4f1 8- 8f1 8f1 8f1\n8g1 16g1 8g1 16- 4f1"
  },
  {
    "title": "Verve: Bittersweet\nSymphony v1",
    "tempo": 180,
    "notes": "4- 4e1\n4g1 4e1 4f1 4d1 2f1 4#a1 4f1 2#a1 4a1 4f1 2a1 4- 4e1 4g1 4e1 4f1 4d1 2f1\n4#a1 4f1 2#a1 4a1 4f1 2a1"
  },
  {
    "title": "Verve: Bittersweet\nSymphony v2",
    "tempo": 225,
    "notes": "8#g1\n8b1 8#g1 4a1 4- 4#f1 4- 8a1 2- 4d2 4- 4a1 4- 8d2 2- 4#c2 4- 4a1 4- 8#c2"
  },
  {
    "title": "Village People:\nY.M.C.A. v1",
    "tempo": 80,
    "notes": "16#f2\n2#d2 16#d2 16#c2 16b1 16#c2 16#d2 8#f2 16#d2 8#f2 16#g2 2#d2 16#d2 16#c2\n16b1 16#c2 16#d2 8#f2 16#d2 8#f2 16#g2 2e2 16e2 16#d2 16#c2 16#d2 16e2\n8#g2 16b2 8#g2 4#a2 4#g2 4#f2 4e2 8#d2 8#c2"
  },
  {
    "title": "Village People:\nY.M.C.A. v2",
    "tempo": 160,
    "notes": "8#c2\n8#a1 2- 8#a1 8#g1 8#f1 8#g1 8#a1 4#c2 8#a1 4#c2 8#d2 8#a1 2- 8#a1 8#g1\n8#f1 8#g1 8#a1 4#c2 8#a1 4#c2 8#d2 8b1 2- 8b1 8#a1 8#g1 8#a1 8b1 4#d2 8#f2\n4#d2 4.f2 4.#d2 4.#c2 4.b1 4#a1 4#g1"
  },
  {
    "title": "Wales\nNational Anthem",
    "tempo": 63,
    "notes": "8c2 8e2\n8d2 8c2 8g2 8f2 8e2 8c3 8c3 16a3 16b2 4c2 8a2 8g2 8e2 8c2 8c2 8b1 8c2 8e2\n8d2 8d2 4d2 16e2 16f2 8g2 8g2 16e2 16f2 8g2 8g2 16a2 16b2 8c3 8c3 16a2\n16b2 4c3 8a2 8g2 8e2 8c2 16d2 4e2 4d2 2c2"
  },
  {
    "title": "Wedding March",
    "tempo": 225,
    "notes": "8g2 4-\n8#f2 4- 4b1 8e2 8d2 8c2 8a1 8g1 4#f1 4g1 8a1 8d1 8b1 4g1 4b1 4d2 4g1 4b1\n4d2 8g2 4- 8#f2 4- 4b1 8e2 8d2 8c2 8a1 8g1 4#f1 4g1 8b1 4a1 4b1 8a1 4-\n4g1 8g1"
  },
  {
    "title": "Westlife:\nFlying Without Wings",
    "tempo": 70,
    "notes": "16d2\n8c2 16- 8b1 8a1 8g1 4e1 8- 8d2 8c2 8b1 16a1 8g1 16- 4a1 8- 8d2 8c2 8b1\n16a1 8g1 16- 16b1 2g1"
  },
  {
    "title": "Westlife:\nFool Again",
    "tempo": 80,
    "notes": "8#g1\n4.e1 8- 16#g1 16#f1 8- 8e1 8#f1 4.#g1 8- 8#g1 8b1 8#g1 8#f1 4e1 16e1 16e1\n16e1 16#c1 8e1 16e1 16#c1 8e1 2b2 4- 8#g1 4.e1 4- 8#f1 16e1 8#f1 2#g1 8#g1\n8b1 8#g1 8#f1 4.e1 16#c1 8e1 8#f1 8#g1 8#f1 4.e1"
  },
  {
    "title": "Westlife:\nMy Love",
    "tempo": 90,
    "notes": "8g1 8c2\n16c2 4c2 16- 8g1 8d2 16d2 4d2 16- 8g1 8b1 8b1 8b1 8c2 4c2 8- 8g1 8a1 16a1\n4a1 16- 8a1 8a1 8a1 8c2 8a1 8a1 4g1 16- 8- 8g1 8c2 16c2 4c2 16- 8g1 8d2\n16d2 4d2 16- 8g1 8e2 8g2 8g2 8e2 8c2"
  },
  {
    "title": "Will Smith:\nMen In Black",
    "tempo": 112,
    "notes": "4f1 8#g1\n16- 16#g1 8c2 8c2 8c2 1- 8c2 8#c2 8c2 8#g1 4#a1 4c2 8- 8c2 8#a1 16#g1 2-\n4f1 8#g1 16- 16#g1 8c2 8c2 8c2 8- 4#a1 8#g1 4f1 4- 8- 8c2 8#c2 8c2 8#g1\n4#a1 2c2"
  },
  {
    "title": "Will Smith:\nMiami",
    "tempo": 112,
    "notes": "4a2 4g2\n4- 2e1 8- 16a1 16c2 16d2 16c2 8a1 4- 4a2 4g2 4- 4d2 8- 4e2 4- 8- 4a2 4g2\n4- 2e1 8- 16a1 16c2 16d2 16c2 8a1 4- 4a2 4g2 4- 4d2 8- 4e2 8- 16a1 16c2\n8d2"
  },
  {
    "title": "Without You",
    "tempo": 80,
    "notes": "8b1 4d2\n4e2 8e2 4e2 8d2 4d2 4b1 4b1 4d2 4e2 4e2 4e2 8d2 4d2 2b1 8b1 8d2 4d2 4c2\n4c2 4b1 4b1 4a1 4a1 4g1 2b1 4b1 4b1 4a1 4g1 8b1 4b1 4e2 4e2 4g2 4g2 4e2\n2e2 8e2 4g2 8d2 8e2 2b1 8d2 8b1 8a1 8g1 8a1 8b1"
  },
  {
    "title": "Wo Bi Shui\nToe Ching Chu",
    "tempo": 144,
    "notes": "4d1 4d2\n4b1 4a1 4g1 2b1 4b1 4d2 4e2 4d2 4e2 2b1 4b1 4d2 2g2 4e2 4d2 4e2 4d2 4g1\n4d2 4b1"
  },
  {
    "title": "Woody Woodpecker",
    "tempo": 80,
    "notes": "16#c1\n16#f1 16#a1 16#c2 4#a1 8#c2 16#a1 8b1 16#c2 8b1 8#a1 8#g1 2#c2 8d2 8#d2\n16d2 8#d2 8b1 8b1 16b1 8d2 8d2 8b1 8#a1 16b1 8#c2 8#c2 16b1 4#c2 2#a1 8#f1\n16#g1 8#a1 16a1 8#a1 4#f1 8#f1 16#g1 8#a1 16a1 8#a1 4#f1 16#f1 8#g1 8#a1\n8b1 8#c2 8b1 8#a1 2#g1"
  },
  {
    "title": "Wrestling\nThe Rock",
    "tempo": 80,
    "notes": "4.f1\n16g1 8g1 4#g1 8- 4.#d1 16#d1 8#a1 4#a1 8- 4.f1 16g1 8g1 4#g1 8- 4.#d1 16#d1\n8#a1 8#a1 16#a1 8#g1 32- 4.f1 16g1 8g1 4#g1 8- 4.#d1 16#d1 8#a1 4#a1 8-\n4.f1 16g1 8g1 4#g1 8- 2#d1"
  },
  {
    "title": "X-Files",
    "tempo": 125,
    "notes": "4e1 4b1\n4a1 4b1 4d2 2b1 1- 4e1 4b1 4a1 4b1 4e2 2b1 1- 4g2 4#f2 4e2 4d2 4e2 2b1\n1- 4g2 4#f2 4e2 4d2 4#f2 2b1 1- 4e1 4b1 4a1 4b1 4d2 2b1 1- 4e1 4b1 4a1\n4b1 4e2 2b1 1- 4e2 2b1"
  },
  {
    "title": "Yesterday\nOnce More",
    "tempo": 80,
    "notes": "8b1 8b1\n8#c2 4#d2 4#f2 8#f2 8#d2 8#f2 8#d2 8#g2 4#f2 2#d2 8#d2 8#f2 4#g2 4#a2 8#d2\n4#f2 2#g2 4#a2 4#c2 8b2 4#a2 4#g2 8#a2 8b2 8#a2 8b2 4#a2 2#g2 8#g2 8#a2\n4b2 4b2 8#g2 4b2 2#c2 4b2 4#c2 8#d2 8#d2 8#d2 2#d2 8#c2 8b2 8#a2 8b2 8#a2\n2#g2 8#d2"
  },
  {
    "title": "You Are My\nEverything",
    "tempo": 100,
    "notes": "8#d2\n8f2 4#g2 32#f2 32f2 2#d2 4#a1 32c2 4#c2 32#d2 32#c2 2c2 4#a1 4c2 2#c2 8f1\n4f1 8f2 8f2 8#d2 16#d2 8#c2 8#c2 8c2 16c2 8#a1 2c2 8f1 2f1 8#d2 8#d2 16#c2\n8#c2 8c2 8c2 4#a1 16#a1 8#g1 32#g1 2#a1 16#a1 16c2 8#c2 2#a1 2#g1 16#g1\n8#d1 32#d1 2f1"
  },
  {
    "title": "Zelda:\nOriginal Theme",
    "tempo": 200,
    "notes": "2#a1\n2f1 4- 8#a1 8c2 8d2 8#d2 2f2 2- 4f2 4f2 8#f2 8#g2 2#a2 2- 4#a2 8#a2 8-\n8#g2 8#f2 4#g2 8#f2 2f2 2- 2f2 4#d2 8#d2 8f2 2#f2 2- 4f2 4#d2 4#c2 8#c2\n8#d2 2f2 2- 4#d2 4#c2 4c2 8c2 8d2 2e2 2- 2g2 1f2"
  },
  {
    "title": "Zombie Nation:\nKernkraft 400",
    "tempo": 140,
    "notes": "8c2 8#d2\n8f2 8g2 8c2 8c1 8c2 8c1 8c2 8#d2 8f2 8g2 8#g2 8g2 8#d2 8f2 8f2 8c1 8f2\n8#d2 8c1 8g2 8c2 8c1 8c1 8c2 8- 8c2 8- 8c2 8- 8c2"
  },
  {
    "title": "2Pac: All\nEyez On Me",
    "tempo": 90,
    "notes": "16f2\n16e2 8d2 16a#1 16a1 2f1 4- 8a1 8a1 16g1 8a1 4- 8- 16f2 16e2 8d2 16a#1 16a1\n2f1 4- 8a1 8a1 16g1 8a1"
  },
  {
    "title": "2Pac: California\nLove",
    "tempo": 90,
    "notes": "8g1 16#a1\n16g1 8d2 8d2 4- 4- 8g1 8.g1 8f1 8g1 4- 4- 8c2 8c2 8#a1 8a1 2g1 8f1 8g1\n8a1 8f1 4d1 4- 8g1 16#a1 16g1 8d2 8d2 4- 4- 8.g1 16g1 8g1 4- 4- 8g1 16#a1\n16g1 8d2 8d2 4- 8.g1 8f1 8g1 4- 4-"
  },
  {
    "title": "2Pac: Changes",
    "tempo": 112,
    "notes": "16a1\n16b1 2c2 2b1 8a1 16- 8g1 16- 4g1 8- 4d1 2g1 8f#1 16- 8e1 16- 8d1 2e1 4-\n8- 16a1 16b1 2c2 2b1 8a1 16- 8g1 16- 4g1 8- 4d1 4g1 8- 8g1 8f#1 16- 8e1\n16- 8d1 2e1"
  },
  {
    "title": "2Pac: Dear\nMama",
    "tempo": 90,
    "notes": "4a1 8g1\n16f1 4- 8- 4a1 8a#1 8a1 8g1 8f1 8g1 8a1 8- 4a1 8g1 16f1 4- 8- 4a1 8a#1\n8a1 8g1 8f1 8g1 8a1 8- 4a1 8g1 16f1 4- 8- 4a1 8a#1 8a1 8g1 8f1 16g1"
  },
  {
    "title": "2Pac: Hit\n'm Up",
    "tempo": 100,
    "notes": "4a1 8-\n4b1 4c2 8- 1a1 8- 4a1 4b1 4c2 8- 1a1 8- 4a1 4b1 4c2 8- 1d2 8- 4a1 4b1 8c2\n4b1 4a1 8- 16e2 16c2 16d2 16b1 16c2 16a1 16b1 16g1 16a1 16b1 4a1"
  },
  {
    "title": "2Pac: I Ain't\nMad Atcha",
    "tempo": 90,
    "notes": "16a1\n16b1 16c2 16b1 8a1 16e1 8- 16- 4c#1 2d1 16d2 16e2 16f2 16e2 8d2 8b1 8g1\n16g1 16a1 16b1 16a1 8g1 16d1 8- 16- 4d1 4f1 4e1 4e1 4- 8- 16a1 16b1 16c2\n16b1 8a1 16e1 8- 16- 4c#1 4d1 8- 16-"
  },
  {
    "title": "2Unlimited:\nGet Ready",
    "tempo": 125,
    "notes": "8.g2\n8g2 16- 8g2 8c2 8c2 8d2 8d2 8.g2 8g2 16- 8g2 8#a2 8#a2 8c3 8c3 8.g2 8g2\n16- 8g2 8c2 8c2 8d2 8d2 8.g2 8g2 16- 8g2 8#a2 8#a2 8c3 8d3"
  },
  {
    "title": "2Unlimited:\nNo Limit",
    "tempo": 140,
    "notes": "4- 4e1\n8e1 4- 4g1 8g1 4e1 8e1 4- 4g1 8g1 4e1 8e1 4- 4g1 8e1 4a1 4a1 4b1 4b1 2-"
  }
];

// ... (PRESETS usually continued here, kept short for DSP code focus) ...

let audioCtx = null;
let isPlaying = false;
let isPaused = false;
let pausedAtTime = 0;

let isLooping = false;
let schedulerInterval = null;
let nextNoteTime = 0;
let currentNoteIndex = 0;
let parsedNotes = [];
let songTempo = 120;
let masterVolume = 0.5;
let currentInstrument = 'classic';
let isVisualizerMode = false;
let uploadedSongName = ""; // NEW: Stores custom name

// Elements
const editor = document.getElementById('editor');
const backdrop = document.getElementById('backdrop');
const statusText = document.getElementById('statusText');
const playBtn = document.getElementById('playBtn');
const stopBtn = document.getElementById('stopBtn');
const loopBtn = document.getElementById('loopBtn');
const loopIndicator = document.getElementById('loopIndicator');
const volumeSlider = document.getElementById('volumeSlider');
const presetSelect = document.getElementById('presetSelect');
const tempoDisplay = document.getElementById('tempoDisplay');
const noteCountEl = document.getElementById('noteCount');
const durationEl = document.getElementById('totalDuration');
const errorToast = document.getElementById('errorToast');
const importBtn = document.getElementById('importBtn');
const fileInput = document.getElementById('fileInput');
// Download UI Elements
const openDownloadModalBtn = document.getElementById('openDownloadModalBtn');
const downloadModal = document.getElementById('downloadModal');
const closeModalBtn = document.getElementById('closeModalBtn');
const downloadBtn = document.getElementById('downloadBtn');
const downloadLoopBtn = document.getElementById('downloadLoopBtn');
const wavDurationInput = document.getElementById('wavDuration');

const instrumentSelect = document.getElementById('instrumentSelect');
const themeBtn = document.getElementById('themeBtn');
const viewToggleBtn = document.getElementById('viewToggleBtn');
const visualizerCanvas = document.getElementById('visualizer');
const presetFeedback = document.getElementById('presetFeedback');
const demoBtn = document.getElementById('demoBtn');

demoBtn.addEventListener('click', () => {
    // 1️⃣ Find Sandstorm in the presets list
    const index = PRESETS.findIndex(
        p => p.title.toLowerCase() === 'sandstorm'
    );

    // 2️⃣ If found, sync dropdown + load + play
    if (index !== -1) {
        presetSelect.value = index; // updates the dropdown UI
        loadPreset(index);          // loads notes + tempo
        startPlayback();            // plays it
    }
});


/**
 * PARSING LOGIC
 */

function autoScrollToHighlight() {
    const highlight = backdrop.querySelector('.highlight');
    if (!highlight) return;

    const hTop = highlight.offsetTop;
    const hBottom = hTop + highlight.offsetHeight;

    const viewTop = editor.scrollTop;
    const viewBottom = viewTop + editor.clientHeight;

    if (hTop < viewTop) {
        editor.scrollTop = hTop - 10;
    } else if (hBottom > viewBottom) {
        editor.scrollTop = hBottom - editor.clientHeight + 10;
    }

    backdrop.scrollTop = editor.scrollTop;
}

function parseRingtone(text) {
    const lines = text.split('\n');
    let tempo = 120;
    const notesToParse = [];

    lines.forEach(line => {
        const tMatch = line.match(TEMPO_REGEX);
        if (tMatch && tMatch[1] !== '') {
    tempo = parseInt(tMatch[1], 10);
}
 else {
            // Robust tokenizer: match all non-whitespace sequences
            const lineTokens = line.match(/\S+/g) || [];
            lineTokens.forEach(t => notesToParse.push(t));
        }
    });

    const parsed = notesToParse.map((token, index) => {
        // Syntax: Duration(opt) + Dotted(opt) + Sharp(opt) + Note + Sharp(opt) + Octave(opt)
        const match = token.match(/^(\d+)?(\.)?(#)?([a-gA-G\-])(#)?(\d)?$/i);
        
        if (!match) {
            return { error: true, token, index };
        }

        const durationVal = match[1] ? parseInt(match[1], 10) : 4;
        const isDotted = !!match[2];
        const hasSharpPrefix = !!match[3];
        const noteName = match[4].toLowerCase();
        const hasSharpSuffix = !!match[5];
        const octave = match[6] ? parseInt(match[6], 10) : 1;
        
        const isSharp = hasSharpPrefix || hasSharpSuffix;

        // Calculate Duration in beats
        let beatLength = 4 / durationVal;
        if (isDotted) beatLength *= 1.5;

        let frequency = 0;
        let midiNote = 0;
        
        if (noteName !== '-') {
            let key = noteName;
            if (isSharp) key += '#';
            
            const baseFreq = FREQUENCIES[key];
            if (baseFreq) {
                const octaveMultiplier = Math.pow(2, octave - 1);
                frequency = baseFreq * octaveMultiplier;
                
                // Calculate pseudo MIDI note for visualizer (C4 ~ 60)
                // We just need relative pitch
                const noteOffsets = {'c':0, 'c#':1, 'd':2, 'd#':3, 'e':4, 'f':5, 'f#':6, 'g':7, 'g#':8, 'a':9, 'a#':10, 'b':11};
                midiNote = (octave * 12) + noteOffsets[key];
            } else {
                return { error: true, token, index };
            }
        }

        return {
            frequency,
            midiNote,
            beatLength,
            isRest: noteName === '-',
            token,
            index
        };
    });

    return { tempo, notes: parsed };
}

function enforceTempoLine() {
    const text = editor.value;
    const lines = text.split('\n');

    // If Tempo line is missing or moved, restore it (structure only)
    if (!lines[0]?.toLowerCase().startsWith('tempo=')) {
        const match = text.match(TEMPO_REGEX);
        const tempo = match ? match[1] : '';

        editor.value =
            `Tempo=${tempo}\n` +
            text.replace(/^.*\n?/, '');
    }
}



function updateMetadata() {
    // Stop playback if editing to prevent massive desync
    if (isPlaying) {
        stopPlayback();
    }

    const raw = editor.value;
    const result = parseRingtone(raw);
    parsedNotes = result.notes;
    songTempo = result.tempo;

    // Update UI
    tempoDisplay.innerText = `${songTempo} BPM`;
    
    const validNotes = parsedNotes.filter(n => !n.error);
    const errors = parsedNotes.filter(n => n.error);
    
    noteCountEl.innerText = `Notes: ${validNotes.length}`;
    
    // Calculate total duration
    const secondsPerBeat = 60 / songTempo;
    const totalBeats = validNotes.reduce((acc, n) => acc + n.beatLength, 0);
    const totalSeconds = totalBeats * secondsPerBeat;
    
    const min = Math.floor(totalSeconds / 60);
    const sec = Math.floor(totalSeconds % 60);
    durationEl.innerText = `${min.toString().padStart(2, '0')}:${sec.toString().padStart(2, '0')}`;

    // Update visual highlighting
    renderBackdrop();
    if(isVisualizerMode) drawPianoRoll();

    if (errors.length > 0) {
        errorToast.classList.remove('hidden');
        errorToast.innerHTML = `<!> SYNTAX ERROR: ${errors[0].token}<br><span class="text-xs normal-case opacity-80 font-sans">Expected: Duration + Note + Octave</span>`;
        // Disable Play
        playBtn.disabled = true;
        playBtn.classList.add('opacity-50', 'cursor-not-allowed');
    } else {
        errorToast.classList.add('hidden');
        // Enable Play
        playBtn.disabled = false;
        playBtn.classList.remove('opacity-50', 'cursor-not-allowed');
    }

    return result;
}

function renderBackdrop(highlightIndex = -1) {
    const text = editor.value;
    const lines = text.split('\n');

    let tokenIndex = 0;
    let html = '';

    for (const line of lines) {
        // Tempo line logic must exactly match parseRingtone
        if (TEMPO_REGEX.test(line)) {
            html += escapeHtml(line);
        } else {
            // Robust tokenizer matching whitespace AND non-whitespace to reconstruct line
            // This ensures exact alignment with parseRingtone's logic which skips whitespace
            const parts = line.match(/(\S+)|(\s+)/g) || [];
            
            for (const part of parts) {
                if (/\S/.test(part)) {
                    // It's a token (non-whitespace)
                    const safe = escapeHtml(part);
                    if (tokenIndex === highlightIndex) {
                        html += `<span class="highlight">${safe}</span>`;
                    } else {
                        html += safe;
                    }
                    tokenIndex++;
                } else {
                    // It's whitespace, just render it
                    html += part;
                }
            }
        }
        html += '\n';
    }

    backdrop.innerHTML = html;
    backdrop.scrollTop = editor.scrollTop;
}

function escapeHtml(str) {
    return str.replace(/[&<>"']/g, m => ({
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;',
        '"': '&quot;',
        "'": '&#039;'
    }[m]));
}

/**
 * VISUALIZER (PIANO ROLL)
 */
function toggleView() {
    isVisualizerMode = !isVisualizerMode;
    if (isVisualizerMode) {
        visualizerCanvas.classList.add('active');
        editor.style.opacity = '0';
        backdrop.style.opacity = '0';
        drawPianoRoll();
    } else {
        visualizerCanvas.classList.remove('active');
        editor.style.opacity = '1';
        backdrop.style.opacity = '1';
    }
}

function drawPianoRoll() {
    const ctx = visualizerCanvas.getContext('2d');
    const width = visualizerCanvas.width = visualizerCanvas.offsetWidth;
    const height = visualizerCanvas.height = visualizerCanvas.offsetHeight;
    
    // Clear - Use Computed Style for Theme Support
    const style = getComputedStyle(document.body);
    const bgColor = style.getPropertyValue('--screen-bg').trim() || '#c7f0d8';
    const darkColor = style.getPropertyValue('--screen-pixels').trim() || '#43523d';

    ctx.fillStyle = bgColor;
    ctx.fillRect(0, 0, width, height);

    const validNotes = parsedNotes.filter(n => !n.error);
    if (validNotes.length === 0) return;

    // Determine Ranges
    let minNote = Infinity;
    let maxNote = -Infinity;
    validNotes.forEach(n => {
        if(!n.isRest) {
            if(n.midiNote < minNote) minNote = n.midiNote;
            if(n.midiNote > maxNote) maxNote = n.midiNote;
        }
    });

    // Padding
    minNote -= 2; 
    maxNote += 2;
    const noteRange = Math.max(12, maxNote - minNote); // Minimum one octave range
    
    const rowHeight = height / noteRange;
    const secondsPerBeat = 60 / songTempo;
    
    // Calculate total time for scaling X
    let totalTime = 0;
    validNotes.forEach(n => totalTime += n.beatLength * secondsPerBeat);
    
    // Pixels per second. If song is short, stretch to fit. If long, scroll.
    let pxPerSec = width / Math.max(totalTime, 1);
    const minPxPerSec = 50; 
    if (pxPerSec < minPxPerSec) pxPerSec = minPxPerSec;
    
    let drawOffsetX = 0;
    let songPlayTime = 0;

    if (isPlaying && audioCtx) {
         songPlayTime = audioCtx.currentTime - playbackStartTime;
         if (songPlayTime < 0) songPlayTime = 0;
         const playPos = songPlayTime * pxPerSec;
         drawOffsetX = -playPos + (width / 4);
    }

    ctx.save();
    
    // Background Grid
    ctx.strokeStyle = 'rgba(0,0,0,0.1)';
    ctx.lineWidth = 1;
    for(let i=0; i<=noteRange; i++) {
        const y = i * rowHeight;
        ctx.beginPath();
        ctx.moveTo(0, y);
        ctx.lineTo(width, y);
        ctx.stroke();
    }

    // Draw Notes
    ctx.translate(drawOffsetX, 0);

    let currentTime = 0;

    validNotes.forEach((n, idx) => {
        const durationSec = n.beatLength * secondsPerBeat;
        const w = Math.max(durationSec * pxPerSec - 1, 2); // -1 for gap
        const x = currentTime * pxPerSec;
        
        // BUG FIX: Highlight based on audio time overlap, NOT index (which looks ahead)
        // Check if current playback time is inside this note's window
        const isCurrentNote = isPlaying && (songPlayTime >= currentTime && songPlayTime < currentTime + durationSec);
        
        if (!n.isRest) {
            // Invert Y because canvas Y0 is top
            const noteIdx = n.midiNote - minNote;
            const y = height - (noteIdx * rowHeight) - rowHeight;
            
            // Highlight current note
            if (isCurrentNote) {
                 ctx.fillStyle = darkColor; // Solid
                 ctx.fillRect(x, 0, w, height); // Column highlight (inverted effect)
                 
                 // Note itself reversed
                 ctx.fillStyle = bgColor;
                 ctx.fillRect(x, y, w, rowHeight);
            } else {
                 ctx.fillStyle = darkColor;
                 ctx.globalAlpha = 0.6;
                 ctx.fillRect(x, y, w, rowHeight);
                 ctx.globalAlpha = 1.0;
            }
            
            // Border
            ctx.strokeStyle = darkColor;
            ctx.strokeRect(x, y, w, rowHeight);
        } else {
            // Draw rest symbol?
            // ctx.fillStyle = 'rgba(0,0,0,0.05)';
            // ctx.fillRect(x, 0, w, height);
        }
        
        currentTime += durationSec;
    });
    
    // Draw Playhead
    if (isPlaying && audioCtx) {
        const headX = songPlayTime * pxPerSec;
        ctx.strokeStyle = '#ef4444';
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(headX, 0);
        ctx.lineTo(headX, height);
        ctx.stroke();
    }

    ctx.restore();
}


/**
 * AUDIO PLAYBACK
 */

function initAudio() {
    if (!audioCtx) {
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        audioCtx = new AudioContext();
    }
    if (audioCtx.state === 'suspended') {
        audioCtx.resume();
    }
}

function playNote(context, note, startTime, duration, volume = 0.5) {
    if (note.isRest) return;

    const osc = context.createOscillator();
    const gain = context.createGain();

    // Instrument Config
    const instr = INSTRUMENTS[currentInstrument] || INSTRUMENTS.classic;
    osc.type = instr.type;
    osc.frequency.value = note.frequency;

    // Envelope
    const { a, d, s, r } = instr.env;
    
    osc.connect(gain);
    gain.connect(context.destination);

    osc.start(startTime);
    
    // Calculate safe envelope timings
    const now = startTime;
    const end = startTime + duration;
    
    const safeRelease = Math.min(r, duration);
    let releaseStart = end - safeRelease;
    
    if (releaseStart < now) releaseStart = now;

    // Attack Phase
    gain.gain.setValueAtTime(0, now);
    
    gain.gain.linearRampToValueAtTime(volume, now + a);
    gain.gain.exponentialRampToValueAtTime(volume * s + 0.001, now + a + d);
    
    // Release Phase
    gain.gain.setValueAtTime(volume * s + 0.001, releaseStart);
    gain.gain.exponentialRampToValueAtTime(0.001, end);

    osc.stop(end);
}

function scheduler() {
    const lookahead = 0.1;
    
    while (nextNoteTime < audioCtx.currentTime + lookahead && currentNoteIndex < parsedNotes.length) {
        const note = parsedNotes[currentNoteIndex];
        
        if (!note.error) {
            const secondsPerBeat = 60 / songTempo;
            const duration = note.beatLength * secondsPerBeat;
            
            // Schedule audio
            playNote(audioCtx, note, nextNoteTime, duration, masterVolume);
            
            nextNoteTime += duration;
        }
        
        currentNoteIndex++;
    }

    if (currentNoteIndex >= parsedNotes.length) {
        if (audioCtx.currentTime > nextNoteTime) {
             if (isLooping) {
                currentNoteIndex = 0;
                nextNoteTime = audioCtx.currentTime + 0.5;
                // FIX: Apply latency compensation on loop as well
                playbackStartTime = nextNoteTime + LATENCY_COMPENSATION; 
            } else {
                stopPlayback();
            }
        }
    }
}

function updateVisuals() {
    if (!isPlaying) return;

    const secondsPerBeat = 60 / songTempo;
    // Calculate current song time
    const songPlayTime = audioCtx.currentTime - playbackStartTime;
    
    // Find active note index
    let activeIndex = -1;
    let accumulatedTime = 0;

    for (let i = 0; i < parsedNotes.length; i++) {
        const note = parsedNotes[i];
        if (note.error) continue; // Errors don't take up time in playback sequence

        const duration = note.beatLength * secondsPerBeat;
        
        // Ensure songPlayTime is non-negative to avoid premature highlighting
        if (songPlayTime >= accumulatedTime && songPlayTime < accumulatedTime + duration) {
            activeIndex = i;
            break;
        }
        accumulatedTime += duration;
    }
    
    // Update text highlight if changed
    if (activeIndex !== lastHighlightedIndex) {
        highlightNote(activeIndex);
        lastHighlightedIndex = activeIndex;
    }

    // Drive Piano Roll Animation
    if (isVisualizerMode) {
        drawPianoRoll(); 
    }
    
    animationFrameId = requestAnimationFrame(updateVisuals);
}

function startPlayback() {
    const data = updateMetadata();
    if (playBtn.disabled) return;

    // ▶️ RESUME FROM PAUSE (TIME-CORRECT)
if (isPaused && audioCtx) {
    const pauseDuration = audioCtx.currentTime - pausedAtTime;

    // 🔧 shift all timing forward by pause duration
    playbackStartTime += pauseDuration;
    nextNoteTime += pauseDuration;

    isPaused = false;
    isPlaying = true;

    statusText.innerText = "PLAYING...";
    playBtn.innerHTML = `<i class="fas fa-pause"></i> PAUSE`;
    playBtn.classList.remove('nokia-btn-primary');
    playBtn.classList.add('bg-yellow-600');

    schedulerInterval = setInterval(scheduler, 25);
    updateVisuals();
    return;
}


    // ▶️ FRESH PLAY (STOP + RESET FIRST)
    stopPlayback();
    initAudio();

    isPlaying = true;
    isPaused = false;

    statusText.innerText = "PLAYING...";
    playBtn.innerHTML = `<i class="fas fa-pause"></i> PAUSE`;
    playBtn.classList.remove('nokia-btn-primary');
    playBtn.classList.add('bg-yellow-600');

    // Calculate elapsed time before currentNoteIndex
    const secondsPerBeat = 60 / songTempo;
    let timeSoFar = 0;

    for (let i = 0; i < currentNoteIndex; i++) {
        if (!parsedNotes[i]?.error) {
            timeSoFar += parsedNotes[i].beatLength * secondsPerBeat;
        }
    }

    // Sync visual + audio time origin
    playbackStartTime =
        (audioCtx.currentTime + 0.1 + LATENCY_COMPENSATION) - timeSoFar;

    nextNoteTime = audioCtx.currentTime + 0.1;

    // Auto-enter visualizer
    if (!isVisualizerMode) {
        toggleView();
    }

    schedulerInterval = setInterval(scheduler, 25);
    lastHighlightedIndex = -1;
    updateVisuals();
}


function pausePlayback() {
    if (!isPlaying) return;

    isPlaying = false;
    isPaused = true;

    // ✅ remember exact pause time in SONG time
    pausedAtTime = audioCtx.currentTime;

    clearInterval(schedulerInterval);
    schedulerInterval = null;

    if (animationFrameId) {
        cancelAnimationFrame(animationFrameId);
        animationFrameId = null;
    }

    statusText.innerText = "PAUSED";
    playBtn.innerHTML = `<i class="fas fa-play"></i> RESUME`;
    playBtn.classList.add('nokia-btn-primary');
}


function stopPlayback() {
    isPlaying = false;
    isPaused = false;
pausedAtTime = 0;


    // 🔥 HARD STOP: kill everything
    if (schedulerInterval) {
        clearInterval(schedulerInterval);
        schedulerInterval = null;
    }

    if (animationFrameId) {
        cancelAnimationFrame(animationFrameId);
        animationFrameId = null;
    }

    if (audioCtx) {
        audioCtx.close();   // ← THIS is the key fix
        audioCtx = null;
    }

    currentNoteIndex = 0;
    nextNoteTime = 0;
    playbackStartTime = 0;

    statusText.innerText = "COMPOSER";
    playBtn.innerHTML = `<i class="fas fa-play"></i> LISTEN`;
    playBtn.classList.add('nokia-btn-primary');

    removeHighlight();
    lastHighlightedIndex = -1;

    if (isVisualizerMode) {
        toggleView();
    }
}

/**
 * UI HIGHLIGHTING FIX
 */
function highlightNote(index) {
    if (!isPlaying) return;
    renderBackdrop(index);
    autoScrollToHighlight();
}

function removeHighlight() {
    renderBackdrop(null);
}


/**
 * AUDIO TO RINGTONE (DSP ENGINE)
 * Replaces old JSON Import Logic
 */

// --- DSP Constants ---
const DSP_WINDOW_SIZE = 4096;
const PITCH_MIN_HZ = 80;
const PITCH_MAX_HZ = 1200;
const ANALYSIS_LIMIT_SEC = 30; // Max analysis length to keep it snappy

async function handleAudioImport(e) {
    const file = e.target.files[0];
    if (!file) return;

    // 1. UI Updates
    const baseName = file.name.replace(/\.[^/.]+$/, "");
    uploadedSongName = baseName;
    
    // Reset File Input so change event fires even if same file selected
    e.target.value = '';

    statusText.innerText = "DECODING...";
    presetFeedback.innerText = `Processing: ${file.name}...`;
    importBtn.disabled = true;
    importBtn.innerHTML = `<i class="fas fa-spinner fa-spin"></i> WORKING`;
    playBtn.disabled = true;

    try {
        // 2. Read File
        const arrayBuffer = await file.arrayBuffer();
        
        // 3. Init Context for Analysis
        const OfflineContext = window.OfflineAudioContext || window.webkitOfflineAudioContext;
        // Use a dummy context first to decode
        const tempCtx = new (window.AudioContext || window.webkitAudioContext)();
        const audioBuffer = await tempCtx.decodeAudioData(arrayBuffer);
        
        // 4. Pre-process (Mixdown, Filter, Truncate)
        presetFeedback.innerText = "Normalizing & Filtering...";
        
        const duration = Math.min(audioBuffer.duration, ANALYSIS_LIMIT_SEC);
        const sampleRate = audioBuffer.sampleRate;
        const offlineCtx = new OfflineContext(1, duration * sampleRate, sampleRate);
        
        const source = offlineCtx.createBufferSource();
        source.buffer = audioBuffer;
        
        // Bandpass Filter (Voice/Melody Range)
        const filter = offlineCtx.createBiquadFilter();
        filter.type = "bandpass";
        filter.frequency.value = 600; // Center
        filter.Q.value = 0.5; // Wide Q to cover ~100-1200Hz
        
        // Compressor/Limiter to normalize levels
        const compressor = offlineCtx.createDynamicsCompressor();
        compressor.threshold.value = -20;
        compressor.knee.value = 40;
        compressor.ratio.value = 12;
        
        source.connect(filter);
        filter.connect(compressor);
        compressor.connect(offlineCtx.destination);
        source.start(0);
        
        const processedBuffer = await offlineCtx.startRendering();
        const pcmData = processedBuffer.getChannelData(0);

        // 5. BPM Detection (Evidence-Based)
        presetFeedback.innerText = "Estimating Tempo (Evidence-Based)...";
        await new Promise(r => setTimeout(r, 50)); // UI Breath
        
        const bpmResult = detectBPM(pcmData, sampleRate);
        const bpm = bpmResult.bpm;
        
        // 6. Pitch Detection Loop
        presetFeedback.innerText = "Extracting Melody...";
        await new Promise(r => setTimeout(r, 50)); // UI Breath
        
        const frames = [];
        // Overlap factor 2x
        const hopSize = DSP_WINDOW_SIZE / 2;
        
        for (let i = 0; i < pcmData.length; i += hopSize) {
            if (i + DSP_WINDOW_SIZE > pcmData.length) break;
            const chunk = pcmData.slice(i, i + DSP_WINDOW_SIZE);
            const pitch = getPitch(chunk, sampleRate);
            frames.push(pitch);
        }
        
        // 7. Quantization
        presetFeedback.innerText = "Quantizing to Nokia...";
        const rtttl = convertToRingtoneText(frames, bpm, hopSize, sampleRate);
        
        // 8. Load Result
        editor.value = rtttl;
        updateMetadata();
        
        // 9. Update Preset Dropdown
        updatePresetDropdownWithUpload(baseName);
        
        if (bpmResult.confidence < 0.4) {
             presetFeedback.innerText = `Tempo uncertain. Guessed: ${bpm} BPM (Best Fit).`;
             errorToast.classList.remove('hidden');
             errorToast.innerHTML = `<span>Tempo detected with low confidence.<br>Manual adjustment to ${bpm} BPM may be required.</span>`;
             setTimeout(() => errorToast.classList.add('hidden'), 5000);
        } else {
             presetFeedback.innerText = `Converted: ${baseName} (${bpm} BPM)`;
        }
        
        statusText.innerText = "COMPOSER";

    } catch (err) {
        console.error(err);
        presetFeedback.innerText = "Error: " + err.message;
        errorToast.classList.remove('hidden');
        errorToast.innerText = "Audio decode failed. Try a standard MP3/WAV.";
        setTimeout(() => errorToast.classList.add('hidden'), 4000);
    } finally {
        importBtn.disabled = false;
        importBtn.innerHTML = `<i class="fas fa-file-audio text-lg mb-1"></i> UPLOAD AUDIO`;
        playBtn.disabled = false;
    }
}

// --- DSP HELPERS ---

function getPitch(buffer, sampleRate) {
    // 1. RMS Check for Silence
    let sumSq = 0;
    for (let i = 0; i < buffer.length; i++) sumSq += buffer[i] * buffer[i];
    const rms = Math.sqrt(sumSq / buffer.length);
    if (rms < 0.015) return 0; // Silence threshold

    // 2. Autocorrelation
    // We only correlate lags corresponding to PITCH_MAX_HZ down to PITCH_MIN_HZ
    // Lag = sampleRate / freq
    const minLag = Math.floor(sampleRate / PITCH_MAX_HZ);
    const maxLag = Math.floor(sampleRate / PITCH_MIN_HZ);
    
    let maxCorr = -1;
    let bestLag = -1;
    
    for (let lag = minLag; lag <= maxLag; lag++) {
        let sum = 0;
        for (let i = 0; i < buffer.length - lag; i++) {
            sum += buffer[i] * buffer[i + lag];
        }
        // Normalize
        if (sum > maxCorr) {
            maxCorr = sum;
            bestLag = lag;
        }
    }

    // Correlation threshold to avoid noise
    // A simplified heuristic: normalized correlation would be better but expensive
    // We trust RMS check mostly for silence.
    
    if (bestLag > 0) {
        return sampleRate / bestLag;
    }
    return 0;
}

function detectBPM(buffer, sampleRate) {
    // 1. Downsample envelope to 100Hz (10ms resolution)
    // This makes processing fast and sufficient for BPM logic
    const downsampleRatio = Math.floor(sampleRate / 100);
    const envelope = [];
    
    // Rectify and integrate
    for (let i = 0; i < buffer.length; i += downsampleRatio) {
        let sum = 0;
        const end = Math.min(i + downsampleRatio, buffer.length);
        for (let j = i; j < end; j++) sum += Math.abs(buffer[j]);
        envelope.push(sum);
    }
    
    // 2. Autocorrelation for lags corresponding to 40 - 240 BPM
    // 40 BPM = 1.5s = 150 samples (at 100Hz)
    // 240 BPM = 0.25s = 25 samples
    const minLag = 25;
    const maxLag = 150;
    
    let correlations = [];
    
    for (let lag = minLag; lag <= maxLag; lag++) {
        let sum = 0;
        // Normalize by length to be fair to different lags
        const limit = envelope.length - lag;
        for (let i = 0; i < limit; i++) {
            sum += envelope[i] * envelope[i + lag];
        }
        correlations.push({ lag: lag, score: sum });
    }
    
    // 3. Find Global Maximum (The strongest periodicity signal)
    // This gives us our "Base Candidate"
    let maxPeak = { lag: 0, score: 0 };
    correlations.forEach(c => {
        if (c.score > maxPeak.score) maxPeak = c;
    });
    
    if (maxPeak.score === 0) return { bpm: 120, confidence: 0 }; // Fail safe

    // Normalize scores
    correlations.forEach(c => c.normalized = c.score / maxPeak.score);
    
    // Helper to get score at specific lag (interpolated nearest neighbor)
    const getScoreAtLag = (targetLag) => {
        const match = correlations.find(c => Math.abs(c.lag - targetLag) <= 1);
        return match ? match.normalized : 0;
    };

    // 4. Generate Candidates: Base, 2x Base, 0.5x Base
    const basePeriod = maxPeak.lag;
    
    // Candidates [Period, MultiplierName]
    const candidates = [
        { lag: basePeriod, name: "Base" },
        { lag: basePeriod * 2, name: "Half-Time" }, // Lag * 2 = BPM / 2
        { lag: basePeriod / 2, name: "Double-Time" } // Lag / 2 = BPM * 2
    ];
    
    let bestCandidate = null;
    let highestTotalScore = -1;
    
    // Gaussian Prior parameters (center 120, sigma 50)
    const priorCenter = 120;
    const priorSigma = 50;

    candidates.forEach(cand => {
        // Round lag
        const roundedLag = Math.round(cand.lag);
        
        // Skip invalid lags (outside 40-240 BPM range)
        if (roundedLag < minLag || roundedLag > maxLag) return;
        
        // Calculate BPM
        const bpm = 60 / (roundedLag * 0.01);
        
        // 1. Signal Strength (Objective)
        // If this is the Base, strength is 1.0. 
        // If harmonics, we look up actual correlation strength in the signal.
        const signalStrength = getScoreAtLag(roundedLag);
        
        // 2. Tempo Preference (Prior Probability)
        // Bell curve favoring 120. 
        // 120 -> 1.0, 60 -> ~0.48, 240 -> ~0.05
        const prior = Math.exp(-Math.pow(bpm - priorCenter, 2) / (2 * Math.pow(priorSigma, 2)));
        
        // Final Score = Signal * Prior
        // This means a 60 BPM signal must be >2x stronger than 120 BPM signal to win.
        const totalScore = signalStrength * prior;
        
        if (totalScore > highestTotalScore) {
            highestTotalScore = totalScore;
            bestCandidate = { bpm: Math.round(bpm), confidence: totalScore };
        }
    });

    if (!bestCandidate) return { bpm: 120, confidence: 0 };
    
    return bestCandidate;
}

function convertToRingtoneText(frames, bpm, hopSize, sampleRate) {
    const timePerFrame = hopSize / sampleRate;
    const beatsPerSecond = bpm / 60;
    const frameDurationBeats = timePerFrame * beatsPerSecond;

    // 1. Quantize frames to MIDI notes
    const quantizedFrames = frames.map(freq => {
        if (freq === 0) return 0; // Rest
        // Midi Formula: 69 + 12 * log2(f / 440)
        const midi = Math.round(69 + 12 * Math.log2(freq / 440));
        return midi;
    });

    // 2. Median Filter to remove jitter
    const smoothed = [];
    for (let i = 0; i < quantizedFrames.length; i++) {
        const prev = quantizedFrames[i-1] || quantizedFrames[i];
        const curr = quantizedFrames[i];
        const next = quantizedFrames[i+1] || quantizedFrames[i];
        // Simple median of 3
        const sorted = [prev, curr, next].sort((a,b) => a-b);
        smoothed.push(sorted[1]);
    }

    // 3. Run Length Encoding (Merge consecutive notes)
    // --- FIX: Glitch filter implemented here via merging logic
    const events = [];
    if (smoothed.length === 0) return `Tempo=${bpm}`;

    let currentNote = smoothed[0];
    let currentLen = 0;

    smoothed.forEach(note => {
        if (note === currentNote) {
            currentLen += frameDurationBeats;
        } else {
            // Glitch Filter: If note is too short (< 0.1s), merge it into previous
            // Convert length in beats back to seconds for check
            const lenSeconds = currentLen / beatsPerSecond;
            
            if (lenSeconds < 0.1 && events.length > 0) {
                 // Merge into previous event
                 events[events.length - 1].duration += currentLen;
            } else {
                 events.push({ midi: currentNote, duration: currentLen });
            }
            
            currentNote = note;
            currentLen = frameDurationBeats;
        }
    });
    // Push final
    events.push({ midi: currentNote, duration: currentLen });

    // 4. Convert to String Tokens
    const tokens = events.map(e => {
        if (e.duration < 0.1) return null; // Skip glitches (very short notes)
        
        // Find closest supported duration: 1, 2, 4, 8, 16, 32
        // e.duration is in Beats (Quarter notes). 
        // 4 = Quarter note code in RTTTL? 
        // No, in standard notation: 4 = 1/4th note. 
        // If beat = 1.0, duration code is 4.
        // If beat = 0.5, duration code is 8.
        // Formula: code = 4 / beats
        
        let codeVal = 4 / e.duration;
        
        // Snap to valid
        const valid = [1, 2, 4, 8, 16, 32];
        const closest = valid.reduce((prev, curr) => 
            Math.abs(curr - codeVal) < Math.abs(prev - codeVal) ? curr : prev
        );

        if (e.midi === 0) {
            return `${closest}-`; // Rest
        } else {
            return midiToNokia(e.midi, closest);
        }
    }).filter(t => t !== null);

    // Limit to reasonable length (e.g. 100 notes)
    const truncatedTokens = tokens.slice(0, 150); 
    
    return `Tempo=${bpm}\n` + truncatedTokens.join(' ');
}

function midiToNokia(midi, durationCode) {
    // App Logic: C4 = 261Hz. FREQUENCIES uses "c" (octave 1 in app logic) = 261Hz.
    // MIDI 60 = C4.
    // So MIDI 60 -> "c1" in this specific app's format.
    
    const notes = ['c', 'c#', 'd', 'd#', 'e', 'f', 'f#', 'g', 'g#', 'a', 'a#', 'b'];
    
    // Shift MIDI base so 60 becomes 0 relative index for octave 1 logic
    // If 60 is c1:
    // midi 60 % 12 = 0 (c)
    // midi 60 / 12 = 5.
    // App octave = floor(midi / 12) - 4; (So 60 -> 5-4 = 1)
    
    const noteIndex = midi % 12;
    const noteName = notes[noteIndex];
    let octave = Math.floor(midi / 12) - 4;
    
    // Clamp octave to app capabilities (1-3)
    if (octave < 1) octave = 1;
    if (octave > 3) octave = 3;

    return `${durationCode}${noteName}${octave}`;
}

function updatePresetDropdownWithUpload(name) {
    // Check if an "Uploaded" option exists
    let opt = Array.from(presetSelect.options).find(o => o.text.startsWith("(Uploaded)"));
    
    if (opt) {
        // Update existing entry in PRESETS array
        // We need to find the index associated with this option
        const idx = parseInt(opt.value);
        PRESETS[idx] = {
            title: name,
            tempo: songTempo,
            notes: editor.value.replace(/Tempo=\d+\s*/, '')
        };
        opt.text = `(Uploaded) ${name}`;
        presetSelect.value = idx;
    } else {
        // Create new entry
        const newPreset = {
            title: name,
            tempo: songTempo,
            notes: editor.value.replace(/Tempo=\d+\s*/, '')
        };
        PRESETS.push(newPreset);
        const newIdx = PRESETS.length - 1;
        
        const newOpt = document.createElement('option');
        newOpt.text = `(Uploaded) ${name}`;
        newOpt.value = newIdx;
        presetSelect.add(newOpt, 1); // Add at top (after default prompt)
        presetSelect.value = newIdx;
    }
}

/**
 * IMPORT / EXPORT / PRESETS
 */
function loadPreset(index) {
stopPlayback();

    if (index === "") return;
    const song = PRESETS[index]; 
    if (song) {
        editor.value = `Tempo=${song.tempo}\n${song.notes}`;
        // Set Feedback
        presetFeedback.innerText = `Preset loaded: ${song.title} — Classic monophonic ringtone (~1999)`;
        updateMetadata();
        stopPlayback();
        // Update global name for exports if not uploaded
        if (!song.title.includes("(Uploaded)")) {
             uploadedSongName = song.title; 
        }
    }
}

/**
 * WAV EXPORT LOGIC
 */
function bufferToWave(abuffer, len) {
    let numOfChan = abuffer.numberOfChannels,
        length = len * numOfChan * 2 + 44,
        buffer = new ArrayBuffer(length),
        view = new DataView(buffer),
        channels = [], i, sample,
        offset = 0,
        pos = 0;

    // write WAVE header
    setUint32(0x46464952);                         // "RIFF"
    setUint32(length - 8);                         // file length - 8
    setUint32(0x45564157);                         // "WAVE"

    setUint32(0x20746d66);                         // "fmt " chunk
    setUint32(16);                                 // length = 16
    setUint16(1);                                  // PCM (uncompressed)
    setUint16(numOfChan);
    setUint32(abuffer.sampleRate);
    setUint32(abuffer.sampleRate * 2 * numOfChan); // avg. bytes/sec
    setUint16(numOfChan * 2);                      // block-align
    setUint16(16);                                 // 16-bit (hardcoded in this parser)

    setUint32(0x61746164);                         // "data" - chunk
    setUint32(length - pos - 4);                   // chunk length

    // write interleaved data
    for(i = 0; i < numOfChan; i++)
        channels.push(abuffer.getChannelData(i));

    while(pos < len) {
        for(i = 0; i < numOfChan; i++) {             // interleave channels
            sample = Math.max(-1, Math.min(1, channels[i][pos])); // clamp
            sample = (0.5 + sample < 0 ? sample * 32768 : sample * 32767)|0; // scale to 16-bit signed int
            view.setInt16(44 + offset, sample, true); // write 16-bit sample
            offset += 2;
        }
        pos++;
    }

    return new Blob([buffer], {type: "audio/wav"});

    function setUint16(data) {
        view.setUint16(pos, data, true);
        pos += 2;
    }

    function setUint32(data) {
        view.setUint32(pos, data, true);
        pos += 4;
    }
}

async function generateWav(singleLoop = false) {
    const data = updateMetadata();
    const validNotes = data.notes.filter(n => !n.error);
    if (validNotes.length === 0) return;

    const btn = singleLoop ? downloadLoopBtn : downloadBtn;
    const originalText = btn.innerHTML;
    btn.innerHTML = `<i class="fas fa-spinner fa-spin"></i>`;
    btn.disabled = true;

    // Determine filename
    // Logic: Use uploaded name if exists, else preset name, else default
    let filename = 'nokia-ringtone.wav';
    let titleBase = uploadedSongName || "untitled";
    
    // Check if preset selected and valid
    const selectedIdx = presetSelect.value;
    if (selectedIdx !== "" && PRESETS[selectedIdx]) {
         // If user is currently viewing a preset (including the uploaded one if selected)
         // use that title
         titleBase = PRESETS[selectedIdx].title;
    }
    
    // Sanitize
    titleBase = titleBase.replace(/[^a-z0-9\-_]/gi, '_').toLowerCase();
    filename = singleLoop ? `${titleBase}_loop.wav` : `${titleBase}.wav`;

    // Calculate single loop duration
    const secondsPerBeat = 60 / data.tempo;
    const loopDuration = validNotes.reduce((acc, n) => acc + (n.beatLength * secondsPerBeat), 0);
    
    // Get target duration
    let totalDuration;
    if (singleLoop) {
        totalDuration = loopDuration + 1.0; // Add 1s tail for release
    } else {
        let targetDuration = parseInt(wavDurationInput.value, 10) || 30;
        totalDuration = Math.max(loopDuration, targetDuration);
    }
    
    const OfflineContext = window.OfflineAudioContext || window.webkitOfflineAudioContext;
    const sampleRate = 44100;
    const offlineCtx = new OfflineContext(1, sampleRate * totalDuration, sampleRate);
    
    let currentTime = 0;
    
    // Schedule loops until we hit total duration
    while(currentTime < (singleLoop ? loopDuration : totalDuration)) {
        validNotes.forEach(note => {
            if (currentTime >= totalDuration) return;
            const duration = note.beatLength * secondsPerBeat;
            playNote(offlineCtx, note, currentTime, duration, 0.5);
            currentTime += duration;
        });
        
        // If single loop, break after one iteration
        if (singleLoop) break;
    }

    const renderedBuffer = await offlineCtx.startRendering();
    const blob = bufferToWave(renderedBuffer, renderedBuffer.length);
    
    const url = URL.createObjectURL(blob);
    const anchor = document.createElement('a');
    anchor.href = url;
    anchor.download = filename;
    anchor.click();
    URL.revokeObjectURL(url);

    btn.innerHTML = originalText;
    btn.disabled = false;
}

function renderPresets() {
    presetSelect.innerHTML = '<option value="">-- Browse Classics --</option>';
    PRESETS.forEach((song, idx) => {
        const opt = document.createElement('option');
        opt.value = idx;
        opt.innerText = song.title;
        presetSelect.appendChild(opt);
    });
}

function enforceTempoRange() {
    const lines = editor.value.split('\n');
    const match = lines[0].match(TEMPO_REGEX);

    if (!match) return;

    let bpm = parseInt(match[1], 10);

    if (isNaN(bpm)) bpm = 120;

    // Clamp to supported range
    bpm = Math.max(1, Math.min(199, bpm));

    lines[0] = `Tempo=${bpm}`;
    editor.value = lines.join('\n');
}


/**
 * EVENT LISTENERS
 */
document.addEventListener('DOMContentLoaded', () => {
    renderPresets();
    updateMetadata(); 

    editor.addEventListener('input', () => {
    updateMetadata();
    // Clear preset feedback on manual edit
    presetFeedback.innerText = '';
});


editor.addEventListener('blur', enforceTempoRange);


editor.addEventListener('keydown', (e) => {
    const pos = editor.selectionStart;
    const prefix = 'Tempo=';
    const prefixLen = prefix.length;

    // Only guard when cursor is on the FIRST LINE (the tempo line)
    const firstLineEnd = editor.value.indexOf('\n');
    const onTempoLine = firstLineEnd === -1 ? true : pos <= firstLineEnd;

    if (!onTempoLine) return;

    // Block deleting characters inside "Tempo="
    // Backspace deletes the char BEFORE the cursor
    if (e.key === 'Backspace' && pos > 0 && pos <= prefixLen) {
        e.preventDefault();
        return;
    }

    // Delete deletes the char AT the cursor
    if (e.key === 'Delete' && pos < prefixLen) {
        e.preventDefault();
        return;
    }
});

    
    editor.addEventListener('scroll', () => {
        backdrop.scrollTop = editor.scrollTop;
    });

editor.addEventListener('blur', () => {
    enforceTempoLine();
    updateMetadata();
});


    playBtn.addEventListener('click', () => {
        if (isPlaying) pausePlayback();
        else startPlayback();
    });

    stopBtn.addEventListener('click', stopPlayback);
    
    loopBtn.addEventListener('click', () => {
        isLooping = !isLooping;
        loopIndicator.classList.toggle('bg-green-500');
        loopIndicator.classList.toggle('bg-gray-400');
    });

    volumeSlider.addEventListener('input', (e) => {
        masterVolume = e.target.value / 100;
    });

    instrumentSelect.addEventListener('change', (e) => {
        currentInstrument = e.target.value;
    });

    presetSelect.addEventListener('change', (e) => {
        loadPreset(e.target.value);
    });
    
    viewToggleBtn.addEventListener('click', toggleView);

    importBtn.addEventListener('click', () => fileInput.click());
    
    // --- CHANGED: Use new Audio Handler ---
    fileInput.addEventListener('change', handleAudioImport);
    
    // Modal Logic
    openDownloadModalBtn.addEventListener('click', () => {
        downloadModal.classList.remove('hidden', 'opacity-0', 'pointer-events-none');
        downloadModal.firstElementChild.classList.remove('scale-95');
        downloadModal.firstElementChild.classList.add('scale-100');
    });

    function hideModal() {
        downloadModal.classList.add('opacity-0', 'pointer-events-none');
        downloadModal.firstElementChild.classList.remove('scale-100');
        downloadModal.firstElementChild.classList.add('scale-95');
        setTimeout(() => {
            downloadModal.classList.add('hidden');
        }, 300);
    }

    closeModalBtn.addEventListener('click', hideModal);

    // Close modal on outside click
    downloadModal.addEventListener('click', (e) => {
        if (e.target === downloadModal) {
            hideModal();
        }
    });

    downloadBtn.addEventListener('click', () => generateWav(false));
    downloadLoopBtn.addEventListener('click', () => generateWav(true));
    
    themeBtn.addEventListener('click', () => {
        // Updated to toggle LIGHT mode class, since dark is now default
        document.body.classList.toggle('light-mode');
        const isLight = document.body.classList.contains('light-mode');
        themeBtn.innerHTML = isLight ? '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
    });
});
</script>
</body>
</html>
